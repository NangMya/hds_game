{
    "sourceFile": "app/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 55,
            "patches": [
                {
                    "date": 1768813835778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1768813897395,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,8 @@\n-// src/app/page.tsx\n import dynamic from 'next/dynamic';\n \n // SSR á€€á€­á€¯ false á€‘á€¬á€¸á€›á€•á€«á€™á€šá€º\n-const FreeMap = dynamic(() => import('@/components/FreeMap'), { \n+const FreeMap = dynamic(() => import(''), { \n   ssr: false,\n   loading: () => <p className=\"text-center p-10\">Map á€€á€­á€¯ á€–á€½á€„á€·á€ºá€”á€±á€á€Šá€º...</p>\n });\n \n"
                },
                {
                    "date": 1768813905250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import dynamic from 'next/dynamic';\n \n // SSR á€€á€­á€¯ false á€‘á€¬á€¸á€›á€•á€«á€™á€šá€º\n-const FreeMap = dynamic(() => import(''), { \n+const FreeMap = dynamic(() => import('@/components/FreeMap'), { \n   ssr: false,\n   loading: () => <p className=\"text-center p-10\">Map á€€á€­á€¯ á€–á€½á€„á€·á€ºá€”á€±á€á€Šá€º...</p>\n });\n \n"
                },
                {
                    "date": 1768813981416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,6 @@\n import dynamic from 'next/dynamic';\n \n-// SSR á€€á€­á€¯ false á€‘á€¬á€¸á€›á€•á€«á€™á€šá€º\n const FreeMap = dynamic(() => import('@/components/FreeMap'), { \n   ssr: false,\n   loading: () => <p className=\"text-center p-10\">Map á€€á€­á€¯ á€–á€½á€„á€·á€ºá€”á€±á€á€Šá€º...</p>\n });\n"
                },
                {
                    "date": 1768814003151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import dynamic from 'next/dynamic';\n \n-const FreeMap = dynamic(() => import('@/components/FreeMap'), { \n+const FreeMap = dynamic(() => import('../components/FreeMap'), { \n   ssr: false,\n   loading: () => <p className=\"text-center p-10\">Map á€€á€­á€¯ á€–á€½á€„á€·á€ºá€”á€±á€á€Šá€º...</p>\n });\n \n"
                },
                {
                    "date": 1768814035540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,17 +1,21 @@\n+\"use client\"; // dynamic import á€€á€­á€¯ component level á€™á€¾á€¬ á€á€¯á€¶á€¸á€›á€„á€º á€’á€«á€œá€±á€¸ á€‘á€Šá€·á€ºá€•á€±á€¸á€•á€«\n+\n import dynamic from 'next/dynamic';\n+import React from 'react';\n \n+// Dynamic Import á€€á€­á€¯ Type á€•á€±á€¸á€•á€¼á€®á€¸ á€á€±á€á€»á€¬á€•á€¼á€”á€ºá€›á€±á€¸á€•á€«\n const FreeMap = dynamic(() => import('../components/FreeMap'), { \n   ssr: false,\n-  loading: () => <p className=\"text-center p-10\">Map á€€á€­á€¯ á€–á€½á€„á€·á€ºá€”á€±á€á€Šá€º...</p>\n+  loading: () => <div className=\"text-center p-10 font-bold\">Map á€€á€­á€¯ á€–á€½á€„á€·á€ºá€”á€±á€á€Šá€º...</div>\n });\n \n export default function Home() {\n-  // Database á€€ data á€á€½á€±á€€á€­á€¯ á€’á€®á€™á€¾á€¬ fetch á€œá€¯á€•á€ºá€•á€¼á€®á€¸ FreeMap á€†á€® á€•á€­á€¯á€·á€•á€±á€¸á€•á€«\n+  // á€…á€™á€ºá€¸á€á€•á€ºá€›á€”á€º Dummy Data\n   const dummyBoxes = [{ id: 1, lat: 16.8402, lng: 96.1732 }];\n \n   return (\n-    <main>\n+    <main className=\"w-full h-screen\">\n       <FreeMap boxes={dummyBoxes} />\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768814938966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,10 +10,15 @@\n });\n \n export default function Home() {\n   // á€…á€™á€ºá€¸á€á€•á€ºá€›á€”á€º Dummy Data\n-  const dummyBoxes = [{ id: 1, lat: 16.8402, lng: 96.1732 }];\n-\n+const dummyBoxes = [\n+    { id: 1, lat: 16.8401, lng: 96.1731, type: \"Gold\" },\n+    { id: 2, lat: 16.8403, lng: 96.1733, type: \"Silver\" },\n+    { id: 3, lat: 16.8404, lng: 96.1732, type: \"Bronze\" },\n+    { id: 4, lat: 16.8402, lng: 96.1734, type: \"Gold\" },\n+    { id: 5, lat: 16.8403, lng: 96.1731, type: \"Silver\" },\n+  ];\n   return (\n     <main className=\"w-full h-screen\">\n       <FreeMap boxes={dummyBoxes} />\n     </main>\n"
                },
                {
                    "date": 1768815828190,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,26 +1,76 @@\n-\"use client\"; // dynamic import á€€á€­á€¯ component level á€™á€¾á€¬ á€á€¯á€¶á€¸á€›á€„á€º á€’á€«á€œá€±á€¸ á€‘á€Šá€·á€ºá€•á€±á€¸á€•á€«\n+// src/app/page.tsx\n+\"use client\";\n+import { useState, useEffect } from \"react\";\n+import dynamic from \"next/dynamic\";\n \n-import dynamic from 'next/dynamic';\n-import React from 'react';\n+const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n \n-// Dynamic Import á€€á€­á€¯ Type á€•á€±á€¸á€•á€¼á€®á€¸ á€á€±á€á€»á€¬á€•á€¼á€”á€ºá€›á€±á€¸á€•á€«\n-const FreeMap = dynamic(() => import('../components/FreeMap'), { \n-  ssr: false,\n-  loading: () => <div className=\"text-center p-10 font-bold\">Map á€€á€­á€¯ á€–á€½á€„á€·á€ºá€”á€±á€á€Šá€º...</div>\n-});\n+export default function Home() {\n+  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n+  const [usernameInput, setUsernameInput] = useState(\"\");\n+  const [isLoading, setIsLoading] = useState(false);\n \n-export default function Home() {\n-  // á€…á€™á€ºá€¸á€á€•á€ºá€›á€”á€º Dummy Data\n-const dummyBoxes = [\n-    { id: 1, lat: 16.8401, lng: 96.1731, type: \"Gold\" },\n-    { id: 2, lat: 16.8403, lng: 96.1733, type: \"Silver\" },\n-    { id: 3, lat: 16.8404, lng: 96.1732, type: \"Bronze\" },\n-    { id: 4, lat: 16.8402, lng: 96.1734, type: \"Gold\" },\n-    { id: 5, lat: 16.8403, lng: 96.1731, type: \"Silver\" },\n-  ];\n+  // áá‹ Page á€…á€–á€½á€„á€·á€ºá€á€¬á€”á€²á€· á€¡á€›á€„á€º Login á€›á€¾á€­á€™á€›á€¾á€­ á€…á€…á€ºá€™á€šá€º\n+  useEffect(() => {\n+    const savedUser = localStorage.getItem(\"game_user\");\n+    if (savedUser) {\n+      setUser(JSON.parse(savedUser));\n+    }\n+  }, []);\n+\n+  // á‚á‹ Register & Login Function\n+  const handleJoinGame = async () => {\n+    if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n+    setIsLoading(true);\n+\n+    try {\n+      const res = await fetch(\"/api/user/register\", {\n+        method: \"POST\",\n+        body: JSON.stringify({ username: usernameInput }),\n+      });\n+      const data = await res.json();\n+\n+      if (data.success) {\n+        localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n+        setUser(data.user);\n+      }\n+    } catch (err) {\n+      alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\");\n+    } finally {\n+      setIsLoading(false);\n+    }\n+  };\n+\n+  // Login á€™á€á€„á€ºá€›á€á€±á€¸á€›á€„á€º á€•á€¼á€™á€šá€·á€º Register Screen\n+  if (!user) {\n+    return (\n+      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white\">\n+        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm text-center border border-slate-700\">\n+          <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n+          <p className=\"mb-6 text-slate-400\">á€€á€…á€¬á€¸á€›á€”á€º á€á€„á€·á€ºá€¡á€™á€Šá€ºá€€á€­á€¯ á€›á€­á€¯á€€á€ºá€‘á€Šá€·á€ºá€•á€«</p>\n+          <input\n+            type=\"text\"\n+            className=\"w-full p-4 rounded-xl bg-slate-700 border-none mb-4 outline-none focus:ring-2 ring-yellow-500\"\n+            placeholder=\"Username...\"\n+            value={usernameInput}\n+            onChange={(e) => setUsernameInput(e.target.value)}\n+          />\n+          <button\n+            onClick={handleJoinGame}\n+            disabled={isLoading}\n+            className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\"\n+          >\n+            {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n+          </button>\n+        </div>\n+      </div>\n+    );\n+  }\n+\n+  // Login á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€á€½á€¬á€¸á€›á€„á€º Map á€€á€­á€¯ á€•á€¼á€™á€šá€º\n   return (\n-    <main className=\"w-full h-screen\">\n-      <FreeMap boxes={dummyBoxes} />\n+    <main className=\"h-screen w-full\">\n+      <FreeMap userId={user.id} username={user.username} />\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768815972917,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,13 @@\n         </div>\n       </div>\n     );\n   }\n-\n+const dummyBoxes = [\n+  { id: 1, lat: 16.8401, lng: 96.1731, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+  { id: 2, lat: 16.8403, lng: 96.1733, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+  { id: 3, lat: 16.8404, lng: 96.1732, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+];\n   // Login á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€á€½á€¬á€¸á€›á€„á€º Map á€€á€­á€¯ á€•á€¼á€™á€šá€º\n   return (\n     <main className=\"h-screen w-full\">\n       <FreeMap userId={user.id} username={user.username} />\n"
                },
                {
                    "date": 1768815988640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,8 +73,12 @@\n ];\n   // Login á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€á€½á€¬á€¸á€›á€„á€º Map á€€á€­á€¯ á€•á€¼á€™á€šá€º\n   return (\n     <main className=\"h-screen w-full\">\n-      <FreeMap userId={user.id} username={user.username} />\n+     <FreeMap \n+       userId={user.id} \n+       username={user.username} \n+       boxes={dummyBoxes} \n+    />\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768817407051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,8 +65,11 @@\n         </div>\n       </div>\n     );\n   }\n+\n+  16.807694, 96.137832\n+  \n const dummyBoxes = [\n   { id: 1, lat: 16.8401, lng: 96.1731, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n   { id: 2, lat: 16.8403, lng: 96.1733, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n   { id: 3, lat: 16.8404, lng: 96.1732, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n"
                },
                {
                    "date": 1768817521372,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,10 +66,10 @@\n       </div>\n     );\n   }\n \n-  16.807694, 96.137832\n-  \n+  // 16.807694, 96.137832\n+\n const dummyBoxes = [\n   { id: 1, lat: 16.8401, lng: 96.1731, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n   { id: 2, lat: 16.8403, lng: 96.1733, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n   { id: 3, lat: 16.8404, lng: 96.1732, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n"
                },
                {
                    "date": 1768817599060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,14 +67,18 @@\n     );\n   }\n \n   // 16.807694, 96.137832\n+// src/app/page.tsx á€™á€¾á€¬ á€á€„á€·á€ºá€›á€²á€· á€á€€á€šá€·á€º coordinate á€”á€²á€· á€”á€®á€¸á€…á€•á€ºá€á€¬á€á€½á€± á€•á€¼á€±á€¬á€„á€ºá€¸á€‘á€Šá€·á€ºá€•á€«\n+const myLat = 16.807694; // Google Map á€€á€›á€á€²á€· á€‚á€á€”á€ºá€¸ á€•á€‘á€™á€á€…á€ºá€á€¯\n+const myLng = 96.137832; // Google Map á€€á€›á€á€²á€· á€‚á€á€”á€ºá€¸ á€’á€¯á€á€­á€šá€á€…á€ºá€á€¯\n \n const dummyBoxes = [\n-  { id: 1, lat: 16.8401, lng: 96.1731, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-  { id: 2, lat: 16.8403, lng: 96.1733, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-  { id: 3, lat: 16.8404, lng: 96.1732, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+  { id: 1, lat: myLat + 0.0001, lng: myLng + 0.0001, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" }, // á€á€„á€·á€ºá€¡á€”á€¬á€¸ áá€ á€™á€®á€á€¬á€á€”á€ºá€¸á€€á€»á€„á€º\n+  { id: 2, lat: myLat - 0.0001, lng: myLng + 0.0002, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+  { id: 2, lat: myLat - 0.0001, lng: myLng + 0.0003, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n ];\n+\n   // Login á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€á€½á€¬á€¸á€›á€„á€º Map á€€á€­á€¯ á€•á€¼á€™á€šá€º\n   return (\n     <main className=\"h-screen w-full\">\n      <FreeMap \n"
                },
                {
                    "date": 1768817630660,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n \n const dummyBoxes = [\n   { id: 1, lat: myLat + 0.0001, lng: myLng + 0.0001, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" }, // á€á€„á€·á€ºá€¡á€”á€¬á€¸ áá€ á€™á€®á€á€¬á€á€”á€ºá€¸á€€á€»á€„á€º\n   { id: 2, lat: myLat - 0.0001, lng: myLng + 0.0002, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-  { id: 2, lat: myLat - 0.0001, lng: myLng + 0.0003, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+  { id: 3, lat: myLat - 0.0001, lng: myLng + 0.0003, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n ];\n \n   // Login á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€á€½á€¬á€¸á€›á€„á€º Map á€€á€­á€¯ á€•á€¼á€™á€šá€º\n   return (\n"
                },
                {
                    "date": 1768817665265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,13 +68,13 @@\n   }\n \n   // 16.807694, 96.137832\n // src/app/page.tsx á€™á€¾á€¬ á€á€„á€·á€ºá€›á€²á€· á€á€€á€šá€·á€º coordinate á€”á€²á€· á€”á€®á€¸á€…á€•á€ºá€á€¬á€á€½á€± á€•á€¼á€±á€¬á€„á€ºá€¸á€‘á€Šá€·á€ºá€•á€«\n-const myLat = 16.807694; // Google Map á€€á€›á€á€²á€· á€‚á€á€”á€ºá€¸ á€•á€‘á€™á€á€…á€ºá€á€¯\n-const myLng = 96.137832; // Google Map á€€á€›á€á€²á€· á€‚á€á€”á€ºá€¸ á€’á€¯á€á€­á€šá€á€…á€ºá€á€¯\n+const myLat = 16.807694; \n+const myLng = 96.137832; \n \n const dummyBoxes = [\n-  { id: 1, lat: myLat + 0.0001, lng: myLng + 0.0001, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" }, // á€á€„á€·á€ºá€¡á€”á€¬á€¸ áá€ á€™á€®á€á€¬á€á€”á€ºá€¸á€€á€»á€„á€º\n+  { id: 1, lat: myLat + 0.0001, lng: myLng + 0.0001, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n   { id: 2, lat: myLat - 0.0001, lng: myLng + 0.0002, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n   { id: 3, lat: myLat - 0.0001, lng: myLng + 0.0003, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n ];\n \n"
                },
                {
                    "date": 1768818144555,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,14 @@\n import { useState, useEffect } from \"react\";\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n-\n+const getRandomOffset = (meters: number) => {\n+  // 1 degree latitude is approx 111,320 meters\n+  const offset \n+  = meters / 111320;\n+  return (Math.random() * offset * 2) - offset;\n+};\n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n"
                },
                {
                    "date": 1768818169168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,38 @@\n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n+const myLat = 16.807694; \n+  const myLng = 96.137832; \n \n+  // á€œá€€á€ºá€›á€¾á€­ á€”á€±á€›á€¬á€›á€²á€· á€™á€®á€á€¬ á‚á€ á€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ random á€á€»á€á€¼á€„á€ºá€¸\n+  const dummyBoxes = [\n+    { \n+      id: 1, \n+      lat: myLat + getRandomOffset(20), \n+      lng: myLng + getRandomOffset(20), \n+      type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" \n+    },\n+    { \n+      id: 2, \n+      lat: myLat + getRandomOffset(20), \n+      lng: myLng + getRandomOffset(20), \n+      type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" \n+    },\n+    { \n+      id: 3, \n+      lat: myLat + getRandomOffset(20), \n+      lng: myLng + getRandomOffset(20), \n+      type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" \n+    },\n+    { \n+      id: 4, \n+      lat: myLat + getRandomOffset(20), \n+      lng: myLng + getRandomOffset(20), \n+      type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" \n+    },\n+  ];\n   // áá‹ Page á€…á€–á€½á€„á€·á€ºá€á€¬á€”á€²á€· á€¡á€›á€„á€º Login á€›á€¾á€­á€™á€›á€¾á€­ á€…á€…á€ºá€™á€šá€º\n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n     if (savedUser) {\n@@ -71,19 +100,10 @@\n       </div>\n     );\n   }\n \n-  // 16.807694, 96.137832\n-// src/app/page.tsx á€™á€¾á€¬ á€á€„á€·á€ºá€›á€²á€· á€á€€á€šá€·á€º coordinate á€”á€²á€· á€”á€®á€¸á€…á€•á€ºá€á€¬á€á€½á€± á€•á€¼á€±á€¬á€„á€ºá€¸á€‘á€Šá€·á€ºá€•á€«\n-const myLat = 16.807694; \n-const myLng = 96.137832; \n+  \n \n-const dummyBoxes = [\n-  { id: 1, lat: myLat + 0.0001, lng: myLng + 0.0001, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-  { id: 2, lat: myLat - 0.0001, lng: myLng + 0.0002, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-  { id: 3, lat: myLat - 0.0001, lng: myLng + 0.0003, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-];\n-\n   // Login á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€á€½á€¬á€¸á€›á€„á€º Map á€€á€­á€¯ á€•á€¼á€™á€šá€º\n   return (\n     <main className=\"h-screen w-full\">\n      <FreeMap \n"
                },
                {
                    "date": 1768880303441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,11 +13,16 @@\n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n-const myLat = 16.807694; \n-  const myLng = 96.137832; \n+// const myLat = 16.807694; \n+//   const myLng = 96.137832; \n \n+\n+  const myLat = 16.807711; \n+  const myLng = 96.137869; \n+  // 16.807711, 96.137869\n+\n   // á€œá€€á€ºá€›á€¾á€­ á€”á€±á€›á€¬á€›á€²á€· á€™á€®á€á€¬ á‚á€ á€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ random á€á€»á€á€¼á€„á€ºá€¸\n   const dummyBoxes = [\n     { \n       id: 1, \n"
                },
                {
                    "date": 1768880786575,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,12 +5,12 @@\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n const getRandomOffset = (meters: number) => {\n   // 1 degree latitude is approx 111,320 meters\n-  const offset \n-  = meters / 111320;\n+  const offset = meters / 111320;\n   return (Math.random() * offset * 2) - offset;\n };\n+\n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n@@ -25,28 +25,28 @@\n   // á€œá€€á€ºá€›á€¾á€­ á€”á€±á€›á€¬á€›á€²á€· á€™á€®á€á€¬ á‚á€ á€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ random á€á€»á€á€¼á€„á€ºá€¸\n   const dummyBoxes = [\n     { \n       id: 1, \n-      lat: myLat + getRandomOffset(20), \n-      lng: myLng + getRandomOffset(20), \n+      lat: myLat + getRandomOffset(5), \n+      lng: myLng + getRandomOffset(5), \n       type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" \n     },\n     { \n       id: 2, \n-      lat: myLat + getRandomOffset(20), \n-      lng: myLng + getRandomOffset(20), \n+      lat: myLat + getRandomOffset(5), \n+      lng: myLng + getRandomOffset(5), \n       type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" \n     },\n     { \n       id: 3, \n-      lat: myLat + getRandomOffset(20), \n-      lng: myLng + getRandomOffset(20), \n+      lat: myLat + getRandomOffset(5), \n+      lng: myLng + getRandomOffset(5), \n       type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" \n     },\n     { \n       id: 4, \n-      lat: myLat + getRandomOffset(20), \n-      lng: myLng + getRandomOffset(20), \n+      lat: myLat + getRandomOffset(5), \n+      lng: myLng + getRandomOffset(5), \n       type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" \n     },\n   ];\n   // áá‹ Page á€…á€–á€½á€„á€·á€ºá€á€¬á€”á€²á€· á€¡á€›á€„á€º Login á€›á€¾á€­á€™á€›á€¾á€­ á€…á€…á€ºá€™á€šá€º\n"
                },
                {
                    "date": 1768881244138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,119 +3,71 @@\n import { useState, useEffect } from \"react\";\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n-const getRandomOffset = (meters: number) => {\n-  // 1 degree latitude is approx 111,320 meters\n-  const offset = meters / 111320;\n+\n+const getRandomOffsetInFeet = (feet: number) => {\n+  // 1 degree latitude is approx 365,223 feet\n+  const offset = feet / 365223;\n   return (Math.random() * offset * 2) - offset;\n };\n \n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n-// const myLat = 16.807694; \n-//   const myLng = 96.137832; \n \n-\n   const myLat = 16.807711; \n   const myLng = 96.137869; \n-  // 16.807711, 96.137869\n \n-  // á€œá€€á€ºá€›á€¾á€­ á€”á€±á€›á€¬á€›á€²á€· á€™á€®á€á€¬ á‚á€ á€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ random á€á€»á€á€¼á€„á€ºá€¸\n+  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º á€¡á€á€”á€ºá€¸á€‘á€²á€™á€¾á€¬á€•á€² Random á€€á€»á€…á€±á€›á€”á€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º offset á€šá€°á€‘á€¬á€¸á€á€Šá€º)\n   const dummyBoxes = [\n-    { \n-      id: 1, \n-      lat: myLat + getRandomOffset(5), \n-      lng: myLng + getRandomOffset(5), \n-      type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" \n-    },\n-    { \n-      id: 2, \n-      lat: myLat + getRandomOffset(5), \n-      lng: myLng + getRandomOffset(5), \n-      type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" \n-    },\n-    { \n-      id: 3, \n-      lat: myLat + getRandomOffset(5), \n-      lng: myLng + getRandomOffset(5), \n-      type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" \n-    },\n-    { \n-      id: 4, \n-      lat: myLat + getRandomOffset(5), \n-      lng: myLng + getRandomOffset(5), \n-      type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" \n-    },\n+    { id: 1, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 2, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 3, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+    { id: 4, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n   ];\n-  // áá‹ Page á€…á€–á€½á€„á€·á€ºá€á€¬á€”á€²á€· á€¡á€›á€„á€º Login á€›á€¾á€­á€™á€›á€¾á€­ á€…á€…á€ºá€™á€šá€º\n+\n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) {\n-      setUser(JSON.parse(savedUser));\n-    }\n+    if (savedUser) setUser(JSON.parse(savedUser));\n   }, []);\n \n-  // á‚á‹ Register & Login Function\n   const handleJoinGame = async () => {\n     if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n     setIsLoading(true);\n-\n     try {\n       const res = await fetch(\"/api/user/register\", {\n         method: \"POST\",\n         body: JSON.stringify({ username: usernameInput }),\n       });\n       const data = await res.json();\n-\n       if (data.success) {\n         localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n         setUser(data.user);\n       }\n-    } catch (err) {\n-      alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\");\n-    } finally {\n-      setIsLoading(false);\n-    }\n+    } catch (err) { alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\"); } finally { setIsLoading(false); }\n   };\n \n-  // Login á€™á€á€„á€ºá€›á€á€±á€¸á€›á€„á€º á€•á€¼á€™á€šá€·á€º Register Screen\n   if (!user) {\n     return (\n-      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white\">\n-        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm text-center border border-slate-700\">\n+      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white text-center\">\n+        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm border border-slate-700\">\n           <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n-          <p className=\"mb-6 text-slate-400\">á€€á€…á€¬á€¸á€›á€”á€º á€á€„á€·á€ºá€¡á€™á€Šá€ºá€€á€­á€¯ á€›á€­á€¯á€€á€ºá€‘á€Šá€·á€ºá€•á€«</p>\n           <input\n-            type=\"text\"\n-            className=\"w-full p-4 rounded-xl bg-slate-700 border-none mb-4 outline-none focus:ring-2 ring-yellow-500\"\n-            placeholder=\"Username...\"\n-            value={usernameInput}\n-            onChange={(e) => setUsernameInput(e.target.value)}\n+            type=\"text\" className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n+            placeholder=\"Username...\" value={usernameInput} onChange={(e) => setUsernameInput(e.target.value)}\n           />\n-          <button\n-            onClick={handleJoinGame}\n-            disabled={isLoading}\n-            className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\"\n-          >\n+          <button onClick={handleJoinGame} disabled={isLoading} className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\">\n             {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n           </button>\n         </div>\n       </div>\n     );\n   }\n \n-  \n-\n-  // Login á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€á€½á€¬á€¸á€›á€„á€º Map á€€á€­á€¯ á€•á€¼á€™á€šá€º\n   return (\n     <main className=\"h-screen w-full\">\n-     <FreeMap \n-       userId={user.id} \n-       username={user.username} \n-       boxes={dummyBoxes} \n-    />\n+      <FreeMap userId={user.id} username={user.username} boxes={dummyBoxes} />\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768881791198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,10 @@\n \n   const myLat = 16.807711; \n   const myLng = 96.137869; \n \n+  // 16.807693, 96.137881\n+\n   // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º á€¡á€á€”á€ºá€¸á€‘á€²á€™á€¾á€¬á€•á€² Random á€€á€»á€…á€±á€›á€”á€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º offset á€šá€°á€‘á€¬á€¸á€á€Šá€º)\n   const dummyBoxes = [\n     { id: 1, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n     { id: 2, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n"
                },
                {
                    "date": 1768883090293,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,77 @@\n+// src/app/page.tsx\n+\"use client\";\n+import { useState, useEffect } from \"react\";\n+import dynamic from \"next/dynamic\";\n+\n+const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n+\n+const getRandomOffsetInFeet = (feetLimit: number) => {\n+  // 1 degree latitude is approx 365,223 feet\n+  // á€¡á€á€”á€ºá€¸á€¡á€œá€šá€º (Center) á€€á€”á€± á€˜á€±á€¸á€á€…á€ºá€–á€€á€ºá€…á€®á€€á€­á€¯ feetLimit á€¡á€á€­á€¯á€„á€ºá€¸ random á€á€»á€™á€šá€º\n+  const degreePerFoot = 1 / 365223;\n+  const offset = feetLimit * degreePerFoot;\n+  return (Math.random() * offset * 2) - offset;\n+};\n+\n+export default function Home() {\n+  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n+  const [usernameInput, setUsernameInput] = useState(\"\");\n+  const [isLoading, setIsLoading] = useState(false);\n+\n+  const myLat = 16.807711; \n+  const myLng = 96.137869; \n+\n+  // 16.807693, 96.137881\n+\n+  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º á€¡á€á€”á€ºá€¸á€‘á€²á€™á€¾á€¬á€•á€² Random á€€á€»á€…á€±á€›á€”á€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º offset á€šá€°á€‘á€¬á€¸á€á€Šá€º)\n+  const dummyBoxes = [\n+    { id: 1, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 2, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 3, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+    { id: 4, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n+  ];\n+\n+  useEffect(() => {\n+    const savedUser = localStorage.getItem(\"game_user\");\n+    if (savedUser) setUser(JSON.parse(savedUser));\n+  }, []);\n+\n+  const handleJoinGame = async () => {\n+    if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n+    setIsLoading(true);\n+    try {\n+      const res = await fetch(\"/api/user/register\", {\n+        method: \"POST\",\n+        body: JSON.stringify({ username: usernameInput }),\n+      });\n+      const data = await res.json();\n+      if (data.success) {\n+        localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n+        setUser(data.user);\n+      }\n+    } catch (err) { alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\"); } finally { setIsLoading(false); }\n+  };\n+\n+  if (!user) {\n+    return (\n+      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white text-center\">\n+        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm border border-slate-700\">\n+          <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n+          <input\n+            type=\"text\" className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n+            placeholder=\"Username...\" value={usernameInput} onChange={(e) => setUsernameInput(e.target.value)}\n+          />\n+          <button onClick={handleJoinGame} disabled={isLoading} className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\">\n+            {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n+          </button>\n+        </div>\n+      </div>\n+    );\n+  }\n+\n+  return (\n+    <main className=\"h-screen w-full\">\n+      <FreeMap userId={user.id} username={user.username} boxes={dummyBoxes} />\n+    </main>\n+  );\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768883115164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,16 +20,15 @@\n \n   const myLat = 16.807711; \n   const myLng = 96.137869; \n \n-  // 16.807693, 96.137881\n-\n-  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º á€¡á€á€”á€ºá€¸á€‘á€²á€™á€¾á€¬á€•á€² Random á€€á€»á€…á€±á€›á€”á€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º offset á€šá€°á€‘á€¬á€¸á€á€Šá€º)\n+  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º) á€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€•á€±á€«á€ºá€…á€±á€›á€”á€º\n+  // á… á€•á€± á€‘á€¬á€¸á€›á€„á€º á€¡á€”á€¬á€¸á€á€á€ºá€™á€¾á€¬ á€€á€•á€ºá€”á€±á€á€á€ºá€œá€­á€¯á€· á„.á… á€•á€±á€”á€²á€· á€á€½á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n   const dummyBoxes = [\n-    { id: 1, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 2, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 3, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-    { id: 4, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n+    { id: 1, lat: myLat + getRandomOffsetInFeet(4.5), lng: myLng + getRandomOffsetInFeet(4.5), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 2, lat: myLat + getRandomOffsetInFeet(4.5), lng: myLng + getRandomOffsetInFeet(4.5), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 3, lat: myLat + getRandomOffsetInFeet(4.5), lng: myLng + getRandomOffsetInFeet(4.5), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+    { id: 4, lat: myLat + getRandomOffsetInFeet(4.5), lng: myLng + getRandomOffsetInFeet(4.5), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n   ];\n \n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n"
                },
                {
                    "date": 1768883327665,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,10 +17,10 @@\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n \n-  const myLat = 16.807711; \n-  const myLng = 96.137869; \n+  const myLat = 16.8076918; \n+  const myLng = 96.1378792; \n \n   // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º) á€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€•á€±á€«á€ºá€…á€±á€›á€”á€º\n   // á… á€•á€± á€‘á€¬á€¸á€›á€„á€º á€¡á€”á€¬á€¸á€á€á€ºá€™á€¾á€¬ á€€á€•á€ºá€”á€±á€á€á€ºá€œá€­á€¯á€· á„.á… á€•á€±á€”á€²á€· á€á€½á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n   const dummyBoxes = [\n"
                },
                {
                    "date": 1768883668965,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,14 +4,15 @@\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n \n+\n+\n const getRandomOffsetInFeet = (feetLimit: number) => {\n   // 1 degree latitude is approx 365,223 feet\n-  // á€¡á€á€”á€ºá€¸á€¡á€œá€šá€º (Center) á€€á€”á€± á€˜á€±á€¸á€á€…á€ºá€–á€€á€ºá€…á€®á€€á€­á€¯ feetLimit á€¡á€á€­á€¯á€„á€ºá€¸ random á€á€»á€™á€šá€º\n   const degreePerFoot = 1 / 365223;\n-  const offset = feetLimit * degreePerFoot;\n-  return (Math.random() * offset * 2) - offset;\n+  // -limit á€™á€¾ +limit á€€á€¼á€¬á€¸ (á€¥á€•á€™á€¬ -á„ á€•á€± á€™á€¾ +á„ á€•á€± á€€á€¼á€¬á€¸) random á€‘á€½á€€á€ºá€…á€±á€›á€”á€º\n+  return (Math.random() * (feetLimit * 2) * degreePerFoot) - (feetLimit * degreePerFoot);\n };\n \n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n@@ -72,80 +73,5 @@\n     <main className=\"h-screen w-full\">\n       <FreeMap userId={user.id} username={user.username} boxes={dummyBoxes} />\n     </main>\n   );\n-}\n-// src/app/page.tsx\n-\"use client\";\n-import { useState, useEffect } from \"react\";\n-import dynamic from \"next/dynamic\";\n-\n-const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n-\n-const getRandomOffsetInFeet = (feet: number) => {\n-  // 1 degree latitude is approx 365,223 feet\n-  const offset = feet / 365223;\n-  return (Math.random() * offset * 2) - offset;\n-};\n-\n-export default function Home() {\n-  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n-  const [usernameInput, setUsernameInput] = useState(\"\");\n-  const [isLoading, setIsLoading] = useState(false);\n-\n-  const myLat = 16.807711; \n-  const myLng = 96.137869; \n-\n-  // 16.807693, 96.137881\n-\n-  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º á€¡á€á€”á€ºá€¸á€‘á€²á€™á€¾á€¬á€•á€² Random á€€á€»á€…á€±á€›á€”á€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º offset á€šá€°á€‘á€¬á€¸á€á€Šá€º)\n-  const dummyBoxes = [\n-    { id: 1, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 2, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 3, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-    { id: 4, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n-  ];\n-\n-  useEffect(() => {\n-    const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) setUser(JSON.parse(savedUser));\n-  }, []);\n-\n-  const handleJoinGame = async () => {\n-    if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n-    setIsLoading(true);\n-    try {\n-      const res = await fetch(\"/api/user/register\", {\n-        method: \"POST\",\n-        body: JSON.stringify({ username: usernameInput }),\n-      });\n-      const data = await res.json();\n-      if (data.success) {\n-        localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n-        setUser(data.user);\n-      }\n-    } catch (err) { alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\"); } finally { setIsLoading(false); }\n-  };\n-\n-  if (!user) {\n-    return (\n-      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white text-center\">\n-        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm border border-slate-700\">\n-          <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n-          <input\n-            type=\"text\" className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n-            placeholder=\"Username...\" value={usernameInput} onChange={(e) => setUsernameInput(e.target.value)}\n-          />\n-          <button onClick={handleJoinGame} disabled={isLoading} className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\">\n-            {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n-          </button>\n-        </div>\n-      </div>\n-    );\n-  }\n-\n-  return (\n-    <main className=\"h-screen w-full\">\n-      <FreeMap userId={user.id} username={user.username} boxes={dummyBoxes} />\n-    </main>\n-  );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768883686479,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,12 +24,12 @@\n \n   // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º) á€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€•á€±á€«á€ºá€…á€±á€›á€”á€º\n   // á… á€•á€± á€‘á€¬á€¸á€›á€„á€º á€¡á€”á€¬á€¸á€á€á€ºá€™á€¾á€¬ á€€á€•á€ºá€”á€±á€á€á€ºá€œá€­á€¯á€· á„.á… á€•á€±á€”á€²á€· á€á€½á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n   const dummyBoxes = [\n-    { id: 1, lat: myLat + getRandomOffsetInFeet(4.5), lng: myLng + getRandomOffsetInFeet(4.5), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 2, lat: myLat + getRandomOffsetInFeet(4.5), lng: myLng + getRandomOffsetInFeet(4.5), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 3, lat: myLat + getRandomOffsetInFeet(4.5), lng: myLng + getRandomOffsetInFeet(4.5), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-    { id: 4, lat: myLat + getRandomOffsetInFeet(4.5), lng: myLng + getRandomOffsetInFeet(4.5), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n+    { id: 1, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 2, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 3, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+    { id: 4, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n   ];\n \n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n"
                },
                {
                    "date": 1768885328524,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,75 +3,114 @@\n import { useState, useEffect } from \"react\";\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n-\n-\n-\n-const getRandomOffsetInFeet = (feetLimit: number) => {\n-  // 1 degree latitude is approx 365,223 feet\n-  const degreePerFoot = 1 / 365223;\n-  // -limit á€™á€¾ +limit á€€á€¼á€¬á€¸ (á€¥á€•á€™á€¬ -á„ á€•á€± á€™á€¾ +á„ á€•á€± á€€á€¼á€¬á€¸) random á€‘á€½á€€á€ºá€…á€±á€›á€”á€º\n-  return (Math.random() * (feetLimit * 2) * degreePerFoot) - (feetLimit * degreePerFoot);\n+const getRandomOffset = (meters: number) => {\n+  // 1 degree latitude is approx 111,320 meters\n+  const offset = meters / 111320;\n+  return (Math.random() * offset * 2) - offset;\n };\n \n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n+const myLat = 16.807694; \n+  const myLng = 96.137832; \n \n-  const myLat = 16.8076918; \n-  const myLng = 96.1378792; \n-\n-  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º) á€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€•á€±á€«á€ºá€…á€±á€›á€”á€º\n-  // á… á€•á€± á€‘á€¬á€¸á€›á€„á€º á€¡á€”á€¬á€¸á€á€á€ºá€™á€¾á€¬ á€€á€•á€ºá€”á€±á€á€á€ºá€œá€­á€¯á€· á„.á… á€•á€±á€”á€²á€· á€á€½á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n+  // á€œá€€á€ºá€›á€¾á€­ á€”á€±á€›á€¬á€›á€²á€· á€™á€®á€á€¬ á‚á€ á€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ random á€á€»á€á€¼á€„á€ºá€¸\n   const dummyBoxes = [\n-    { id: 1, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 2, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 3, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-    { id: 4, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n+    { \n+      id: 1, \n+      lat: myLat + getRandomOffset(20), \n+      lng: myLng + getRandomOffset(20), \n+      type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" \n+    },\n+    { \n+      id: 2, \n+      lat: myLat + getRandomOffset(20), \n+      lng: myLng + getRandomOffset(20), \n+      type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" \n+    },\n+    { \n+      id: 3, \n+      lat: myLat + getRandomOffset(20), \n+      lng: myLng + getRandomOffset(20), \n+      type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" \n+    },\n+    { \n+      id: 4, \n+      lat: myLat + getRandomOffset(20), \n+      lng: myLng + getRandomOffset(20), \n+      type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" \n+    },\n   ];\n-\n+  // áá‹ Page á€…á€–á€½á€„á€·á€ºá€á€¬á€”á€²á€· á€¡á€›á€„á€º Login á€›á€¾á€­á€™á€›á€¾á€­ á€…á€…á€ºá€™á€šá€º\n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) setUser(JSON.parse(savedUser));\n+    if (savedUser) {\n+      setUser(JSON.parse(savedUser));\n+    }\n   }, []);\n \n+  // á‚á‹ Register & Login Function\n   const handleJoinGame = async () => {\n     if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n     setIsLoading(true);\n+\n     try {\n       const res = await fetch(\"/api/user/register\", {\n         method: \"POST\",\n         body: JSON.stringify({ username: usernameInput }),\n       });\n       const data = await res.json();\n+\n       if (data.success) {\n         localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n         setUser(data.user);\n       }\n-    } catch (err) { alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\"); } finally { setIsLoading(false); }\n+    } catch (err) {\n+      alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\");\n+    } finally {\n+      setIsLoading(false);\n+    }\n   };\n \n+  // Login á€™á€á€„á€ºá€›á€á€±á€¸á€›á€„á€º á€•á€¼á€™á€šá€·á€º Register Screen\n   if (!user) {\n     return (\n-      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white text-center\">\n-        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm border border-slate-700\">\n+      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white\">\n+        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm text-center border border-slate-700\">\n           <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n+          <p className=\"mb-6 text-slate-400\">á€€á€…á€¬á€¸á€›á€”á€º á€á€„á€·á€ºá€¡á€™á€Šá€ºá€€á€­á€¯ á€›á€­á€¯á€€á€ºá€‘á€Šá€·á€ºá€•á€«</p>\n           <input\n-            type=\"text\" className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n-            placeholder=\"Username...\" value={usernameInput} onChange={(e) => setUsernameInput(e.target.value)}\n+            type=\"text\"\n+            className=\"w-full p-4 rounded-xl bg-slate-700 border-none mb-4 outline-none focus:ring-2 ring-yellow-500\"\n+            placeholder=\"Username...\"\n+            value={usernameInput}\n+            onChange={(e) => setUsernameInput(e.target.value)}\n           />\n-          <button onClick={handleJoinGame} disabled={isLoading} className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\">\n+          <button\n+            onClick={handleJoinGame}\n+            disabled={isLoading}\n+            className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\"\n+          >\n             {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n           </button>\n         </div>\n       </div>\n     );\n   }\n \n+  \n+\n+  // Login á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€á€½á€¬á€¸á€›á€„á€º Map á€€á€­á€¯ á€•á€¼á€™á€šá€º\n   return (\n     <main className=\"h-screen w-full\">\n-      <FreeMap userId={user.id} username={user.username} boxes={dummyBoxes} />\n+     <FreeMap \n+       userId={user.id} \n+       username={user.username} \n+       boxes={dummyBoxes} \n+    />\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768885338438,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,114 +3,75 @@\n import { useState, useEffect } from \"react\";\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n-const getRandomOffset = (meters: number) => {\n-  // 1 degree latitude is approx 111,320 meters\n-  const offset = meters / 111320;\n-  return (Math.random() * offset * 2) - offset;\n+\n+\n+\n+const getRandomOffsetInFeet = (feetLimit: number) => {\n+  // 1 degree latitude is approx 365,223 feet\n+  const degreePerFoot = 1 / 365223;\n+  // -limit á€™á€¾ +limit á€€á€¼á€¬á€¸ (á€¥á€•á€™á€¬ -á„ á€•á€± á€™á€¾ +á„ á€•á€± á€€á€¼á€¬á€¸) random á€‘á€½á€€á€ºá€…á€±á€›á€”á€º\n+  return (Math.random() * (feetLimit * 2) * degreePerFoot) - (feetLimit * degreePerFoot);\n };\n \n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n-const myLat = 16.807694; \n-  const myLng = 96.137832; \n \n-  // á€œá€€á€ºá€›á€¾á€­ á€”á€±á€›á€¬á€›á€²á€· á€™á€®á€á€¬ á‚á€ á€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ random á€á€»á€á€¼á€„á€ºá€¸\n+  const myLat = 16.8076918; \n+  const myLng = 96.1378792; \n+\n+  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º) á€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€•á€±á€«á€ºá€…á€±á€›á€”á€º\n+  // á… á€•á€± á€‘á€¬á€¸á€›á€„á€º á€¡á€”á€¬á€¸á€á€á€ºá€™á€¾á€¬ á€€á€•á€ºá€”á€±á€á€á€ºá€œá€­á€¯á€· á„.á… á€•á€±á€”á€²á€· á€á€½á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n   const dummyBoxes = [\n-    { \n-      id: 1, \n-      lat: myLat + getRandomOffset(20), \n-      lng: myLng + getRandomOffset(20), \n-      type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" \n-    },\n-    { \n-      id: 2, \n-      lat: myLat + getRandomOffset(20), \n-      lng: myLng + getRandomOffset(20), \n-      type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" \n-    },\n-    { \n-      id: 3, \n-      lat: myLat + getRandomOffset(20), \n-      lng: myLng + getRandomOffset(20), \n-      type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" \n-    },\n-    { \n-      id: 4, \n-      lat: myLat + getRandomOffset(20), \n-      lng: myLng + getRandomOffset(20), \n-      type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" \n-    },\n+    { id: 1, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 2, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 3, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+    { id: 4, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n   ];\n-  // áá‹ Page á€…á€–á€½á€„á€·á€ºá€á€¬á€”á€²á€· á€¡á€›á€„á€º Login á€›á€¾á€­á€™á€›á€¾á€­ á€…á€…á€ºá€™á€šá€º\n+\n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) {\n-      setUser(JSON.parse(savedUser));\n-    }\n+    if (savedUser) setUser(JSON.parse(savedUser));\n   }, []);\n \n-  // á‚á‹ Register & Login Function\n   const handleJoinGame = async () => {\n     if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n     setIsLoading(true);\n-\n     try {\n       const res = await fetch(\"/api/user/register\", {\n         method: \"POST\",\n         body: JSON.stringify({ username: usernameInput }),\n       });\n       const data = await res.json();\n-\n       if (data.success) {\n         localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n         setUser(data.user);\n       }\n-    } catch (err) {\n-      alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\");\n-    } finally {\n-      setIsLoading(false);\n-    }\n+    } catch (err) { alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\"); } finally { setIsLoading(false); }\n   };\n \n-  // Login á€™á€á€„á€ºá€›á€á€±á€¸á€›á€„á€º á€•á€¼á€™á€šá€·á€º Register Screen\n   if (!user) {\n     return (\n-      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white\">\n-        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm text-center border border-slate-700\">\n+      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white text-center\">\n+        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm border border-slate-700\">\n           <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n-          <p className=\"mb-6 text-slate-400\">á€€á€…á€¬á€¸á€›á€”á€º á€á€„á€·á€ºá€¡á€™á€Šá€ºá€€á€­á€¯ á€›á€­á€¯á€€á€ºá€‘á€Šá€·á€ºá€•á€«</p>\n           <input\n-            type=\"text\"\n-            className=\"w-full p-4 rounded-xl bg-slate-700 border-none mb-4 outline-none focus:ring-2 ring-yellow-500\"\n-            placeholder=\"Username...\"\n-            value={usernameInput}\n-            onChange={(e) => setUsernameInput(e.target.value)}\n+            type=\"text\" className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n+            placeholder=\"Username...\" value={usernameInput} onChange={(e) => setUsernameInput(e.target.value)}\n           />\n-          <button\n-            onClick={handleJoinGame}\n-            disabled={isLoading}\n-            className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\"\n-          >\n+          <button onClick={handleJoinGame} disabled={isLoading} className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\">\n             {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n           </button>\n         </div>\n       </div>\n     );\n   }\n \n-  \n-\n-  // Login á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€á€½á€¬á€¸á€›á€„á€º Map á€€á€­á€¯ á€•á€¼á€™á€šá€º\n   return (\n     <main className=\"h-screen w-full\">\n-     <FreeMap \n-       userId={user.id} \n-       username={user.username} \n-       boxes={dummyBoxes} \n-    />\n+      <FreeMap userId={user.id} username={user.username} boxes={dummyBoxes} />\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768885356712,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,8 +70,12 @@\n   }\n \n   return (\n     <main className=\"h-screen w-full\">\n-      <FreeMap userId={user.id} username={user.username} boxes={dummyBoxes} />\n+     <FreeMap \n+       userId={user.id} \n+       username={user.username} \n+       boxes={dummyBoxes} \n+    />\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768886482421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,12 +24,12 @@\n \n   // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º) á€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€•á€±á€«á€ºá€…á€±á€›á€”á€º\n   // á… á€•á€± á€‘á€¬á€¸á€›á€„á€º á€¡á€”á€¬á€¸á€á€á€ºá€™á€¾á€¬ á€€á€•á€ºá€”á€±á€á€á€ºá€œá€­á€¯á€· á„.á… á€•á€±á€”á€²á€· á€á€½á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n   const dummyBoxes = [\n-    { id: 1, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 2, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 3, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-    { id: 4, lat: myLat + getRandomOffsetInFeet(4), lng: myLng + getRandomOffsetInFeet(4), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n+    { id: 1, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 2, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 3, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+    { id: 4, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n   ];\n \n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n"
                },
                {
                    "date": 1768887198340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,86 @@\n+// src/app/page.tsx\n+\"use client\";\n+import { useState, useEffect } from \"react\";\n+import dynamic from \"next/dynamic\";\n+\n+const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n+\n+\n+\n+const getRandomOffsetInFeet = (feetLimit: number, baseLat: number) => {\n+  // 1 degree latitude = approx 364,000 feet\n+  const latDegreePerFoot = 1 / 364000;\n+  // Longitude á€€ latitude á€¡á€•á€±á€«á€ºá€™á€°á€á€Šá€ºá€•á€¼á€®á€¸ á€•á€¼á€±á€¬á€„á€ºá€¸á€œá€²á€•á€«á€á€šá€ºá‹ á€™á€¼á€”á€ºá€™á€¬á€”á€­á€¯á€„á€ºá€„á€¶ (16Â° N) á€¡á€á€½á€€á€º:\n+  const lonDegreePerFoot = 1 / (364000 * Math.cos(baseLat * Math.PI / 180));\n+\n+  const latOffset = (Math.random() * (feetLimit * 2) - feetLimit) * latDegreePerFoot;\n+  const lonOffset = (Math.random() * (feetLimit * 2) - feetLimit) * lonDegreePerFoot;\n+\n+  return { latOffset, lonOffset };\n+};\n+\n+export default function Home() {\n+  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n+  const [usernameInput, setUsernameInput] = useState(\"\");\n+  const [isLoading, setIsLoading] = useState(false);\n+\n+  const myLat = 16.8076918; \n+  const myLng = 96.1378792; \n+\n+  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º) á€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€•á€±á€«á€ºá€…á€±á€›á€”á€º\n+  // á… á€•á€± á€‘á€¬á€¸á€›á€„á€º á€¡á€”á€¬á€¸á€á€á€ºá€™á€¾á€¬ á€€á€•á€ºá€”á€±á€á€á€ºá€œá€­á€¯á€· á„.á… á€•á€±á€”á€²á€· á€á€½á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n+  const dummyBoxes = [\n+    { id: 1, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 2, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+    { id: 3, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+    { id: 4, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n+  ];\n+\n+  useEffect(() => {\n+    const savedUser = localStorage.getItem(\"game_user\");\n+    if (savedUser) setUser(JSON.parse(savedUser));\n+  }, []);\n+\n+  const handleJoinGame = async () => {\n+    if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n+    setIsLoading(true);\n+    try {\n+      const res = await fetch(\"/api/user/register\", {\n+        method: \"POST\",\n+        body: JSON.stringify({ username: usernameInput }),\n+      });\n+      const data = await res.json();\n+      if (data.success) {\n+        localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n+        setUser(data.user);\n+      }\n+    } catch (err) { alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\"); } finally { setIsLoading(false); }\n+  };\n+\n+  if (!user) {\n+    return (\n+      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white text-center\">\n+        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm border border-slate-700\">\n+          <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n+          <input\n+            type=\"text\" className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n+            placeholder=\"Username...\" value={usernameInput} onChange={(e) => setUsernameInput(e.target.value)}\n+          />\n+          <button onClick={handleJoinGame} disabled={isLoading} className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\">\n+            {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n+          </button>\n+        </div>\n+      </div>\n+    );\n+  }\n+\n+  return (\n+    <main className=\"h-screen w-full\">\n+     <FreeMap \n+       userId={user.id} \n+       username={user.username} \n+       boxes={dummyBoxes} \n+    />\n+    </main>\n+  );\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768889577047,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,101 +23,20 @@\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n \n-  const myLat = 16.8076918; \n-  const myLng = 96.1378792; \n+  const myLat = 16.8076918;\n+const myLng = 96.1378792;\n \n-  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º) á€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€•á€±á€«á€ºá€…á€±á€›á€”á€º\n-  // á… á€•á€± á€‘á€¬á€¸á€›á€„á€º á€¡á€”á€¬á€¸á€á€á€ºá€™á€¾á€¬ á€€á€•á€ºá€”á€±á€á€á€ºá€œá€­á€¯á€· á„.á… á€•á€±á€”á€²á€· á€á€½á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n-  const dummyBoxes = [\n-    { id: 1, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 2, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 3, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-    { id: 4, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n-  ];\n-\n-  useEffect(() => {\n-    const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) setUser(JSON.parse(savedUser));\n-  }, []);\n-\n-  const handleJoinGame = async () => {\n-    if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n-    setIsLoading(true);\n-    try {\n-      const res = await fetch(\"/api/user/register\", {\n-        method: \"POST\",\n-        body: JSON.stringify({ username: usernameInput }),\n-      });\n-      const data = await res.json();\n-      if (data.success) {\n-        localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n-        setUser(data.user);\n-      }\n-    } catch (err) { alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\"); } finally { setIsLoading(false); }\n+const dummyBoxes = [1, 2, 3, 4].map((id) => {\n+  const offset = getRandomOffsetInFeet(7, myLat); // á‡ á€•á€± á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€á€»á€™á€šá€º\n+  return {\n+    id,\n+    lat: myLat + offset.latOffset,\n+    lng: myLng + offset.lonOffset,\n+    type: id === 1 ? \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" : id === 2 ? \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" : \"á€†á€±á€¸á€‘á€¯á€•á€º\"\n   };\n-\n-  if (!user) {\n-    return (\n-      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white text-center\">\n-        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm border border-slate-700\">\n-          <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n-          <input\n-            type=\"text\" className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n-            placeholder=\"Username...\" value={usernameInput} onChange={(e) => setUsernameInput(e.target.value)}\n-          />\n-          <button onClick={handleJoinGame} disabled={isLoading} className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\">\n-            {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n-          </button>\n-        </div>\n-      </div>\n-    );\n-  }\n-\n-  return (\n-    <main className=\"h-screen w-full\">\n-     <FreeMap \n-       userId={user.id} \n-       username={user.username} \n-       boxes={dummyBoxes} \n-    />\n-    </main>\n-  );\n-}\n-// src/app/page.tsx\n-\"use client\";\n-import { useState, useEffect } from \"react\";\n-import dynamic from \"next/dynamic\";\n-\n-const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n-\n-\n-\n-const getRandomOffsetInFeet = (feetLimit: number) => {\n-  // 1 degree latitude is approx 365,223 feet\n-  const degreePerFoot = 1 / 365223;\n-  // -limit á€™á€¾ +limit á€€á€¼á€¬á€¸ (á€¥á€•á€™á€¬ -á„ á€•á€± á€™á€¾ +á„ á€•á€± á€€á€¼á€¬á€¸) random á€‘á€½á€€á€ºá€…á€±á€›á€”á€º\n-  return (Math.random() * (feetLimit * 2) * degreePerFoot) - (feetLimit * degreePerFoot);\n-};\n-\n-export default function Home() {\n-  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n-  const [usernameInput, setUsernameInput] = useState(\"\");\n-  const [isLoading, setIsLoading] = useState(false);\n-\n-  const myLat = 16.8076918; \n-  const myLng = 96.1378792; \n-\n-  // áá€ á€•á€± á€•á€á€ºá€œá€Šá€º (á€—á€Ÿá€­á€¯á€™á€¾ á… á€•á€± á€•á€á€ºá€œá€Šá€º) á€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€•á€±á€«á€ºá€…á€±á€›á€”á€º\n-  // á… á€•á€± á€‘á€¬á€¸á€›á€„á€º á€¡á€”á€¬á€¸á€á€á€ºá€™á€¾á€¬ á€€á€•á€ºá€”á€±á€á€á€ºá€œá€­á€¯á€· á„.á… á€•á€±á€”á€²á€· á€á€½á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n-  const dummyBoxes = [\n-    { id: 1, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 2, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-    { id: 3, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-    { id: 4, lat: myLat + getRandomOffsetInFeet(8), lng: myLng + getRandomOffsetInFeet(8), type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n-  ];\n-\n+});\n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n     if (savedUser) setUser(JSON.parse(savedUser));\n   }, []);\n"
                },
                {
                    "date": 1768890237459,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,8 +20,9 @@\n };\n \n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n+  const [gameBoxes, setGameBoxes] = useState<any[]>([]); // ğŸ‘ˆ Box á€á€½á€±á€¡á€á€½á€€á€º State á€á€®á€¸á€á€”á€·á€ºá€‘á€¬á€¸á€™á€šá€º\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n \n   const myLat = 16.8076918;\n"
                },
                {
                    "date": 1768890275610,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,44 +4,71 @@\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n \n-\n-\n const getRandomOffsetInFeet = (feetLimit: number, baseLat: number) => {\n   // 1 degree latitude = approx 364,000 feet\n   const latDegreePerFoot = 1 / 364000;\n   // Longitude á€€ latitude á€¡á€•á€±á€«á€ºá€™á€°á€á€Šá€ºá€•á€¼á€®á€¸ á€•á€¼á€±á€¬á€„á€ºá€¸á€œá€²á€•á€«á€á€šá€ºá‹ á€™á€¼á€”á€ºá€™á€¬á€”á€­á€¯á€„á€ºá€„á€¶ (16Â° N) á€¡á€á€½á€€á€º:\n-  const lonDegreePerFoot = 1 / (364000 * Math.cos(baseLat * Math.PI / 180));\n+  const lonDegreePerFoot = 1 / (364000 * Math.cos((baseLat * Math.PI) / 180));\n \n-  const latOffset = (Math.random() * (feetLimit * 2) - feetLimit) * latDegreePerFoot;\n-  const lonOffset = (Math.random() * (feetLimit * 2) - feetLimit) * lonDegreePerFoot;\n+  const latOffset =\n+    (Math.random() * (feetLimit * 2) - feetLimit) * latDegreePerFoot;\n+  const lonOffset =\n+    (Math.random() * (feetLimit * 2) - feetLimit) * lonDegreePerFoot;\n \n   return { latOffset, lonOffset };\n };\n \n export default function Home() {\n-  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n+  const [user, setUser] = useState<{ id: number; username: string } | null>(\n+    null,\n+  );\n   const [gameBoxes, setGameBoxes] = useState<any[]>([]); // ğŸ‘ˆ Box á€á€½á€±á€¡á€á€½á€€á€º State á€á€®á€¸á€á€”á€·á€ºá€‘á€¬á€¸á€™á€šá€º\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n-\n   const myLat = 16.8076918;\n-const myLng = 96.1378792;\n+  const myLng = 96.1378792;\n \n-const dummyBoxes = [1, 2, 3, 4].map((id) => {\n-  const offset = getRandomOffsetInFeet(7, myLat); // á‡ á€•á€± á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬á€•á€² á€á€»á€™á€šá€º\n-  return {\n-    id,\n-    lat: myLat + offset.latOffset,\n-    lng: myLng + offset.lonOffset,\n-    type: id === 1 ? \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" : id === 2 ? \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" : \"á€†á€±á€¸á€‘á€¯á€•á€º\"\n-  };\n-});\n   useEffect(() => {\n+    // áá‹ User á€€á€­á€¯ á€…á€…á€ºá€™á€šá€º\n     const savedUser = localStorage.getItem(\"game_user\");\n     if (savedUser) setUser(JSON.parse(savedUser));\n+\n+    // á‚á‹ Client-side á€›á€±á€¬á€€á€ºá€™á€¾ Box á€á€½á€±á€€á€­á€¯ á€á€…á€ºá€á€«á€•á€² Generate á€œá€¯á€•á€ºá€™á€šá€º\n+    // á€’á€«á€†á€­á€¯á€›á€„á€º Hydration error á€™á€á€€á€ºá€á€±á€¬á€·á€á€œá€­á€¯ á€”á€±á€›á€¬á€œá€Šá€ºá€¸ á€™á€œá€½á€²á€á€±á€¬á€·á€˜á€°á€¸\n+    const generatedBoxes = [\n+      {\n+        id: 1,\n+        lat: myLat + getRandomOffsetInFeet(4),\n+        lng: myLng + getRandomOffsetInFeet(4),\n+        type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\",\n+      },\n+      {\n+        id: 2,\n+        lat: myLat + getRandomOffsetInFeet(4),\n+        lng: myLng + getRandomOffsetInFeet(4),\n+        type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\",\n+      },\n+      {\n+        id: 3,\n+        lat: myLat + getRandomOffsetInFeet(4),\n+        lng: myLng + getRandomOffsetInFeet(4),\n+        type: \"á€†á€±á€¸á€‘á€¯á€•á€º\",\n+      },\n+      {\n+        id: 4,\n+        lat: myLat + getRandomOffsetInFeet(4),\n+        lng: myLng + getRandomOffsetInFeet(4),\n+        type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\",\n+      },\n+    ];\n+    setGameBoxes(generatedBoxes);\n   }, []);\n+  useEffect(() => {\n+    const savedUser = localStorage.getItem(\"game_user\");\n+    if (savedUser) setUser(JSON.parse(savedUser));\n+  }, []);\n \n   const handleJoinGame = async () => {\n     if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n     setIsLoading(true);\n@@ -54,21 +81,32 @@\n       if (data.success) {\n         localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n         setUser(data.user);\n       }\n-    } catch (err) { alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\"); } finally { setIsLoading(false); }\n+    } catch (err) {\n+      alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\");\n+    } finally {\n+      setIsLoading(false);\n+    }\n   };\n \n   if (!user) {\n     return (\n       <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white text-center\">\n         <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm border border-slate-700\">\n           <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n           <input\n-            type=\"text\" className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n-            placeholder=\"Username...\" value={usernameInput} onChange={(e) => setUsernameInput(e.target.value)}\n+            type=\"text\"\n+            className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n+            placeholder=\"Username...\"\n+            value={usernameInput}\n+            onChange={(e) => setUsernameInput(e.target.value)}\n           />\n-          <button onClick={handleJoinGame} disabled={isLoading} className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\">\n+          <button\n+            onClick={handleJoinGame}\n+            disabled={isLoading}\n+            className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\"\n+          >\n             {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n           </button>\n         </div>\n       </div>\n@@ -76,12 +114,8 @@\n   }\n \n   return (\n     <main className=\"h-screen w-full\">\n-     <FreeMap \n-       userId={user.id} \n-       username={user.username} \n-       boxes={dummyBoxes} \n-    />\n+      <FreeMap userId={user.id} username={user.username} boxes={dummyBoxes} />\n     </main>\n   );\n\\ No newline at end of file\n-}\n+}\n"
                },
                {
                    "date": 1768890314525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,20 +4,16 @@\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n \n-const getRandomOffsetInFeet = (feetLimit: number, baseLat: number) => {\n-  // 1 degree latitude = approx 364,000 feet\n-  const latDegreePerFoot = 1 / 364000;\n-  // Longitude á€€ latitude á€¡á€•á€±á€«á€ºá€™á€°á€á€Šá€ºá€•á€¼á€®á€¸ á€•á€¼á€±á€¬á€„á€ºá€¸á€œá€²á€•á€«á€á€šá€ºá‹ á€™á€¼á€”á€ºá€™á€¬á€”á€­á€¯á€„á€ºá€„á€¶ (16Â° N) á€¡á€á€½á€€á€º:\n-  const lonDegreePerFoot = 1 / (364000 * Math.cos((baseLat * Math.PI) / 180));\n-\n-  const latOffset =\n-    (Math.random() * (feetLimit * 2) - feetLimit) * latDegreePerFoot;\n-  const lonOffset =\n-    (Math.random() * (feetLimit * 2) - feetLimit) * lonDegreePerFoot;\n-\n-  return { latOffset, lonOffset };\n+const getRandomOffsetInFeet = (feetLimit: number) => {\n+  const latDegreePerFoot = 1 / 365223;\n+  // Longitude á€¡á€á€½á€€á€º á€™á€¼á€”á€ºá€™á€¬á€”á€­á€¯á€„á€ºá€„á€¶á€›á€²á€· Latitude (16.8) á€¡á€› á€á€½á€€á€ºá€á€»á€€á€ºá€™á€¾á€¯ á€Šá€¾á€­á€›á€”á€º\n+  const lonDegreePerFoot = 1 / (365223 * Math.cos(16.8076918 * Math.PI / 180));\n+  \n+  const isLat = Math.random() > 0.5; // Lat á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º Lon á€¡á€á€½á€€á€º Random á€á€½á€²á€‘á€¯á€á€ºá€á€¬á€‘á€€á€º\n+  // á€•á€­á€¯á€€á€±á€¬á€„á€ºá€¸á€á€²á€·á€”á€Šá€ºá€¸á€€ -\n+  return (Math.random() * (feetLimit * 2) * latDegreePerFoot) - (feetLimit * latDegreePerFoot);\n };\n \n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(\n"
                },
                {
                    "date": 1768890347784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -110,8 +110,8 @@\n   }\n \n   return (\n     <main className=\"h-screen w-full\">\n-      <FreeMap userId={user.id} username={user.username} boxes={dummyBoxes} />\n+      <FreeMap userId={user.id} username={user.username} boxes={gameBoxes} />\n     </main>\n   );\n\\ No newline at end of file\n-}\n+}\n"
                },
                {
                    "date": 1768891272920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,47 +24,36 @@\n   const [isLoading, setIsLoading] = useState(false);\n   const myLat = 16.8076918;\n   const myLng = 96.1378792;\n \n+\n   useEffect(() => {\n-    // áá‹ User á€€á€­á€¯ á€…á€…á€ºá€™á€šá€º\n+    // áá‹ User á€›á€¾á€¬á€™á€šá€º\n     const savedUser = localStorage.getItem(\"game_user\");\n     if (savedUser) setUser(JSON.parse(savedUser));\n \n     // á‚á‹ Client-side á€›á€±á€¬á€€á€ºá€™á€¾ Box á€á€½á€±á€€á€­á€¯ á€á€…á€ºá€á€«á€•á€² Generate á€œá€¯á€•á€ºá€™á€šá€º\n-    // á€’á€«á€†á€­á€¯á€›á€„á€º Hydration error á€™á€á€€á€ºá€á€±á€¬á€·á€á€œá€­á€¯ á€”á€±á€›á€¬á€œá€Šá€ºá€¸ á€™á€œá€½á€²á€á€±á€¬á€·á€˜á€°á€¸\n-    const generatedBoxes = [\n-      {\n-        id: 1,\n-        lat: myLat + getRandomOffsetInFeet(4),\n-        lng: myLng + getRandomOffsetInFeet(4),\n-        type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\",\n-      },\n-      {\n-        id: 2,\n-        lat: myLat + getRandomOffsetInFeet(4),\n-        lng: myLng + getRandomOffsetInFeet(4),\n-        type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\",\n-      },\n-      {\n-        id: 3,\n-        lat: myLat + getRandomOffsetInFeet(4),\n-        lng: myLng + getRandomOffsetInFeet(4),\n-        type: \"á€†á€±á€¸á€‘á€¯á€•á€º\",\n-      },\n-      {\n-        id: 4,\n-        lat: myLat + getRandomOffsetInFeet(4),\n-        lng: myLng + getRandomOffsetInFeet(4),\n-        type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\",\n-      },\n-    ];\n-    setGameBoxes(generatedBoxes);\n+    // Longitude á€¡á€á€½á€€á€ºá€•á€« á€á€­á€€á€»á€¡á€±á€¬á€„á€º á€á€½á€€á€ºá€á€»á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n+    const latDegreePerFoot = 1 / 365223;\n+    const lonDegreePerFoot = 1 / (365223 * Math.cos(myLat * Math.PI / 180));\n+\n+    const generateOffset = (feet: number) => ({\n+      lat: (Math.random() * (feet * 2) - feet) * latDegreePerFoot,\n+      lng: (Math.random() * (feet * 2) - feet) * lonDegreePerFoot\n+    });\n+\n+    const boxes = [\n+      { id: 1, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+      { id: 2, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+      { id: 3, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+      { id: 4, type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n+    ].map(box => {\n+      const offset = generateOffset(7); // á‡ á€•á€± á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬ á€‘á€¬á€¸á€™á€šá€º\n+      return { ...box, lat: myLat + offset.lat, lng: myLng + offset.lng };\n+    });\n+\n+    setGameBoxes(boxes);\n   }, []);\n-  useEffect(() => {\n-    const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) setUser(JSON.parse(savedUser));\n-  }, []);\n \n   const handleJoinGame = async () => {\n     if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n     setIsLoading(true);\n"
                },
                {
                    "date": 1768891815291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,106 +1,66 @@\n-// src/app/page.tsx\n \"use client\";\n import { useState, useEffect } from \"react\";\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n \n-const getRandomOffsetInFeet = (feetLimit: number) => {\n-  const latDegreePerFoot = 1 / 365223;\n-  // Longitude á€¡á€á€½á€€á€º á€™á€¼á€”á€ºá€™á€¬á€”á€­á€¯á€„á€ºá€„á€¶á€›á€²á€· Latitude (16.8) á€¡á€› á€á€½á€€á€ºá€á€»á€€á€ºá€™á€¾á€¯ á€Šá€¾á€­á€›á€”á€º\n-  const lonDegreePerFoot = 1 / (365223 * Math.cos(16.8076918 * Math.PI / 180));\n-  \n-  const isLat = Math.random() > 0.5; // Lat á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º Lon á€¡á€á€½á€€á€º Random á€á€½á€²á€‘á€¯á€á€ºá€á€¬á€‘á€€á€º\n-  // á€•á€­á€¯á€€á€±á€¬á€„á€ºá€¸á€á€²á€·á€”á€Šá€ºá€¸á€€ -\n-  return (Math.random() * (feetLimit * 2) * latDegreePerFoot) - (feetLimit * latDegreePerFoot);\n-};\n+// á á€•á€± á€™á€¾á€¬ á€›á€¾á€­á€á€²á€· Latitude/Longitude á€á€”á€ºá€–á€­á€¯á€¸\n+const LAT_PER_FOOT = 1 / 364000; \n+const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n \n export default function Home() {\n-  const [user, setUser] = useState<{ id: number; username: string } | null>(\n-    null,\n-  );\n-  const [gameBoxes, setGameBoxes] = useState<any[]>([]); // ğŸ‘ˆ Box á€á€½á€±á€¡á€á€½á€€á€º State á€á€®á€¸á€á€”á€·á€ºá€‘á€¬á€¸á€™á€šá€º\n+  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n+  const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n   const [usernameInput, setUsernameInput] = useState(\"\");\n   const [isLoading, setIsLoading] = useState(false);\n-  const myLat = 16.8076918;\n-  const myLng = 96.1378792;\n \n+  // Center Position (á€™á€¼á€”á€ºá€™á€¬á€”á€­á€¯á€„á€ºá€„á€¶ á€›á€”á€ºá€€á€¯á€”á€ºá€á€…á€ºá€”á€±á€›á€¬)\n+  const centerLat = 16.8076918;\n+  const centerLng = 96.1378792;\n \n   useEffect(() => {\n-    // áá‹ User á€›á€¾á€¬á€™á€šá€º\n     const savedUser = localStorage.getItem(\"game_user\");\n     if (savedUser) setUser(JSON.parse(savedUser));\n \n-    // á‚á‹ Client-side á€›á€±á€¬á€€á€ºá€™á€¾ Box á€á€½á€±á€€á€­á€¯ á€á€…á€ºá€á€«á€•á€² Generate á€œá€¯á€•á€ºá€™á€šá€º\n-    // Longitude á€¡á€á€½á€€á€ºá€•á€« á€á€­á€€á€»á€¡á€±á€¬á€„á€º á€á€½á€€á€ºá€á€»á€€á€ºá€‘á€¬á€¸á€•á€«á€á€šá€º\n-    const latDegreePerFoot = 1 / 365223;\n-    const lonDegreePerFoot = 1 / (365223 * Math.cos(myLat * Math.PI / 180));\n-\n-    const generateOffset = (feet: number) => ({\n-      lat: (Math.random() * (feet * 2) - feet) * latDegreePerFoot,\n-      lng: (Math.random() * (feet * 2) - feet) * lonDegreePerFoot\n-    });\n-\n+    // á‚á€ á€•á€± á€•á€á€ºá€œá€Šá€º (Center á€€á€”á€± á€˜á€±á€¸á€˜á€šá€ºá€Šá€¬ áá€ á€•á€±á€…á€®) á€¡á€á€½á€„á€ºá€¸ Box á€á€»á€™á€šá€º\n     const boxes = [\n       { id: 1, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n       { id: 2, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n       { id: 3, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n       { id: 4, type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n     ].map(box => {\n-      const offset = generateOffset(7); // á‡ á€•á€± á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€„á€ºá€¸á€™á€¾á€¬ á€‘á€¬á€¸á€™á€šá€º\n-      return { ...box, lat: myLat + offset.lat, lng: myLng + offset.lng };\n+      // -10 á€€á€”á€± +10 á€•á€± á€€á€¼á€¬á€¸ random á€á€»á€á€¼á€„á€ºá€¸\n+      const offsetLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n+      const offsetLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n+      return { \n+        ...box, \n+        lat: centerLat + offsetLat, \n+        lng: centerLng + offsetLng \n+      };\n     });\n \n     setGameBoxes(boxes);\n   }, []);\n \n-  const handleJoinGame = async () => {\n-    if (!usernameInput) return alert(\"á€”á€¬á€™á€Šá€ºá€‘á€Šá€·á€ºá€•á€«á€¦á€¸\");\n-    setIsLoading(true);\n-    try {\n-      const res = await fetch(\"/api/user/register\", {\n-        method: \"POST\",\n-        body: JSON.stringify({ username: usernameInput }),\n-      });\n-      const data = await res.json();\n-      if (data.success) {\n-        localStorage.setItem(\"game_user\", JSON.stringify(data.user));\n-        setUser(data.user);\n-      }\n-    } catch (err) {\n-      alert(\"Error á€–á€¼á€…á€ºá€á€½á€¬á€¸á€•á€«á€•á€¼á€®\");\n-    } finally {\n-      setIsLoading(false);\n-    }\n-  };\n+  // ... (handleJoinGame logic remains same)\n \n   if (!user) {\n     return (\n-      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5 text-white text-center\">\n-        <div className=\"bg-slate-800 p-8 rounded-3xl shadow-2xl w-full max-w-sm border border-slate-700\">\n-          <h1 className=\"text-3xl font-bold mb-6\">HDS Game ğŸ®</h1>\n-          <input\n-            type=\"text\"\n-            className=\"w-full p-4 rounded-xl bg-slate-700 mb-4 outline-none focus:ring-2 ring-yellow-500\"\n-            placeholder=\"Username...\"\n-            value={usernameInput}\n-            onChange={(e) => setUsernameInput(e.target.value)}\n-          />\n-          <button\n-            onClick={handleJoinGame}\n-            disabled={isLoading}\n-            className=\"w-full bg-yellow-500 hover:bg-yellow-600 p-4 rounded-xl font-bold text-black transition-all\"\n-          >\n-            {isLoading ? \"á€…á€±á€¬á€„á€·á€ºá€†á€­á€¯á€„á€ºá€¸á€•á€«...\" : \"á€€á€…á€¬á€¸á€™á€Šá€º\"}\n-          </button>\n-        </div>\n+      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5\">\n+        {/* Login UI */}\n       </div>\n     );\n   }\n \n   return (\n-    <main className=\"h-screen w-full\">\n-      <FreeMap userId={user.id} username={user.username} boxes={gameBoxes} />\n+    <main className=\"h-screen w-full overflow-hidden\">\n+      <FreeMap \n+        userId={user.id} \n+        username={user.username} \n+        boxes={gameBoxes} \n+        centerLat={centerLat} \n+        centerLng={centerLng} \n+      />\n     </main>\n   );\n-}\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768891982299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,61 +3,45 @@\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n \n-// á á€•á€± á€™á€¾á€¬ á€›á€¾á€­á€á€²á€· Latitude/Longitude á€á€”á€ºá€–á€­á€¯á€¸\n-const LAT_PER_FOOT = 1 / 364000; \n+// á€•á€±á€€á€­á€¯ Coordinate á€•á€¼á€±á€¬á€„á€ºá€¸á€›á€”á€º Constant á€™á€»á€¬á€¸\n+const LAT_PER_FOOT = 1 / 364000;\n const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n \n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n-  const [usernameInput, setUsernameInput] = useState(\"\");\n-  const [isLoading, setIsLoading] = useState(false);\n-\n-  // Center Position (á€™á€¼á€”á€ºá€™á€¬á€”á€­á€¯á€„á€ºá€„á€¶ á€›á€”á€ºá€€á€¯á€”á€ºá€á€…á€ºá€”á€±á€›á€¬)\n+  \n+  // á€™á€¼á€±á€•á€¯á€¶á á€¡á€œá€šá€ºá€—á€Ÿá€­á€¯ (Fixed Point)\n   const centerLat = 16.8076918;\n   const centerLng = 96.1378792;\n \n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n     if (savedUser) setUser(JSON.parse(savedUser));\n \n-    // á‚á€ á€•á€± á€•á€á€ºá€œá€Šá€º (Center á€€á€”á€± á€˜á€±á€¸á€˜á€šá€ºá€Šá€¬ áá€ á€•á€±á€…á€®) á€¡á€á€½á€„á€ºá€¸ Box á€á€»á€™á€šá€º\n+    // á‚á€ á€•á€± á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€„á€ºá€¸ Box á„ á€á€¯ Random á€á€»á€á€¼á€„á€ºá€¸\n     const boxes = [\n       { id: 1, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n       { id: 2, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n       { id: 3, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n       { id: 4, type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n     ].map(box => {\n-      // -10 á€€á€”á€± +10 á€•á€± á€€á€¼á€¬á€¸ random á€á€»á€á€¼á€„á€ºá€¸\n-      const offsetLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n-      const offsetLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n-      return { \n-        ...box, \n-        lat: centerLat + offsetLat, \n-        lng: centerLng + offsetLng \n-      };\n+      // -10ft á€™á€¾ +10ft á€¡á€á€½á€„á€ºá€¸ random position á€á€½á€€á€ºá€á€¼á€„á€ºá€¸\n+      const offLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n+      const offLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n+      return { ...box, lat: centerLat + offLat, lng: centerLng + offLng };\n     });\n-\n     setGameBoxes(boxes);\n   }, []);\n \n-  // ... (handleJoinGame logic remains same)\n+  if (!user) return <div className=\"h-screen bg-slate-900 flex items-center justify-center\">...Login UI...</div>;\n \n-  if (!user) {\n-    return (\n-      <div className=\"h-screen w-full bg-slate-900 flex items-center justify-center p-5\">\n-        {/* Login UI */}\n-      </div>\n-    );\n-  }\n-\n   return (\n-    <main className=\"h-screen w-full overflow-hidden\">\n+    <main className=\"h-screen w-full overflow-hidden touch-none\">\n       <FreeMap \n         userId={user.id} \n-        username={user.username} \n         boxes={gameBoxes} \n         centerLat={centerLat} \n         centerLng={centerLng} \n       />\n"
                },
                {
                    "date": 1768893016719,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,10 +6,20 @@\n \n // á€•á€±á€€á€­á€¯ Coordinate á€•á€¼á€±á€¬á€„á€ºá€¸á€›á€”á€º Constant á€™á€»á€¬á€¸\n const LAT_PER_FOOT = 1 / 364000;\n const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n+export default function Home() {\n+  const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n \n-export default function Home() {\n+  useEffect(() => {\n+    // Game á€…á€–á€½á€„á€·á€ºá€á€»á€„á€ºá€¸ User á€›á€²á€· á€á€€á€šá€·á€ºá€”á€±á€›á€¬á€€á€­á€¯ á€¡á€›á€„á€ºá€šá€°á€™á€šá€º\n+    navigator.geolocation.getCurrentPosition((pos) => {\n+      setInitialPos([pos.coords.latitude, pos.coords.longitude]);\n+    });\n+  }, []);\n+\n+  if (!initialPos) return <div className=\"h-screen bg-slate-900 text-white flex items-center justify-center\">GPS á€›á€¾á€¬á€–á€½á€±á€”á€±á€•á€«á€á€Šá€º...</div>;\n+  \n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n   \n   // á€™á€¼á€±á€•á€¯á€¶á á€¡á€œá€šá€ºá€—á€Ÿá€­á€¯ (Fixed Point)\n"
                },
                {
                    "date": 1768893229426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,58 +3,65 @@\n import dynamic from \"next/dynamic\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n \n-// á€•á€±á€€á€­á€¯ Coordinate á€•á€¼á€±á€¬á€„á€ºá€¸á€›á€”á€º Constant á€™á€»á€¬á€¸\n const LAT_PER_FOOT = 1 / 364000;\n const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n+\n export default function Home() {\n+  // áá‹ Hooks á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯ á€¡á€•á€±á€«á€ºá€†á€¯á€¶á€¸á€™á€¾á€¬ á€…á€¯á€‘á€¬á€¸á€›á€•á€«á€™á€šá€º\n   const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n-\n-  useEffect(() => {\n-    // Game á€…á€–á€½á€„á€·á€ºá€á€»á€„á€ºá€¸ User á€›á€²á€· á€á€€á€šá€·á€ºá€”á€±á€›á€¬á€€á€­á€¯ á€¡á€›á€„á€ºá€šá€°á€™á€šá€º\n-    navigator.geolocation.getCurrentPosition((pos) => {\n-      setInitialPos([pos.coords.latitude, pos.coords.longitude]);\n-    });\n-  }, []);\n-\n-  if (!initialPos) return <div className=\"h-screen bg-slate-900 text-white flex items-center justify-center\">GPS á€›á€¾á€¬á€–á€½á€±á€”á€±á€•á€«á€á€Šá€º...</div>;\n-  \n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n-  \n-  // á€™á€¼á€±á€•á€¯á€¶á á€¡á€œá€šá€ºá€—á€Ÿá€­á€¯ (Fixed Point)\n-  const centerLat = 16.8076918;\n-  const centerLng = 96.1378792;\n \n+  // á‚á‹ User Info á€”á€²á€· GPS á€€á€­á€¯á€šá€°á€™á€šá€º\n   useEffect(() => {\n+    // Login á€á€„á€ºá€‘á€¬á€¸á€á€²á€· user á€€á€­á€¯á€…á€…á€ºá€™á€šá€º\n     const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) setUser(JSON.parse(savedUser));\n+    if (savedUser) {\n+        setUser(JSON.parse(savedUser));\n+    } else {\n+        // user á€™á€›á€¾á€­á€›á€„á€º Test user á€á€…á€ºá€šá€±á€¬á€€á€º á€¡á€…á€¬á€¸á€‘á€­á€¯á€¸á€•á€±á€¸á€‘á€¬á€¸á€™á€šá€º (Error á€™á€á€€á€ºá€¡á€±á€¬á€„á€º)\n+        setUser({ id: 1, username: \"Player 1\" });\n+    }\n \n-    // á‚á€ á€•á€± á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€„á€ºá€¸ Box á„ á€á€¯ Random á€á€»á€á€¼á€„á€ºá€¸\n-    const boxes = [\n-      { id: 1, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-      { id: 2, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-      { id: 3, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-      { id: 4, type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n-    ].map(box => {\n-      // -10ft á€™á€¾ +10ft á€¡á€á€½á€„á€ºá€¸ random position á€á€½á€€á€ºá€á€¼á€„á€ºá€¸\n-      const offLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n-      const offLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n-      return { ...box, lat: centerLat + offLat, lng: centerLng + offLng };\n-    });\n-    setGameBoxes(boxes);\n+    // GPS á€”á€±á€›á€¬á€€á€­á€¯á€šá€°á€™á€šá€º\n+    navigator.geolocation.getCurrentPosition(\n+      (pos) => {\n+        const lat = pos.coords.latitude;\n+        const lng = pos.coords.longitude;\n+        setInitialPos([lat, lng]);\n+\n+        // Box á€á€½á€±á€€á€­á€¯ User á€›á€²á€· á€œá€€á€ºá€›á€¾á€­á€”á€±á€›á€¬ á€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬á€•á€² á€á€»á€™á€šá€º\n+        const boxes = [\n+          { id: 1, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n+          { id: 2, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n+          { id: 3, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n+          { id: 4, type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n+        ].map(box => {\n+          const offLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n+          const offLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n+          return { ...box, lat: lat + offLat, lng: lng + offLng };\n+        });\n+        setGameBoxes(boxes);\n+      },\n+      (err) => alert(\"GPS á€–á€á€ºá€™á€›á€•á€«á€á€–á€¼á€„á€·á€º Setting á€á€½á€„á€º Location á€á€½á€„á€·á€ºá€•á€¼á€¯á€•á€±á€¸á€•á€«\"),\n+      { enableHighAccuracy: true }\n+    );\n   }, []);\n \n-  if (!user) return <div className=\"h-screen bg-slate-900 flex items-center justify-center\">...Login UI...</div>;\n+  // áƒá‹ Loading á€•á€¼á€á€²á€·á€¡á€•á€­á€¯á€„á€ºá€¸á€€á€­á€¯ Hooks á€á€½á€±á€›á€²á€·á€¡á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€™á€¾ á€‘á€¬á€¸á€›á€•á€«á€™á€šá€º\n+  if (!user) return <div className=\"h-screen bg-slate-900 flex items-center justify-center text-white\">Login á€…á€…á€ºá€†á€±á€¸á€”á€±á€á€Šá€º...</div>;\n+  if (!initialPos) return <div className=\"h-screen bg-slate-900 text-white flex items-center justify-center\">GPS á€›á€¾á€¬á€–á€½á€±á€”á€±á€•á€«á€á€Šá€º...</div>;\n \n   return (\n     <main className=\"h-screen w-full overflow-hidden touch-none\">\n       <FreeMap \n         userId={user.id} \n         boxes={gameBoxes} \n-        centerLat={centerLat} \n-        centerLng={centerLng} \n+        // User á€›á€²á€· á€œá€€á€ºá€›á€¾á€­á€”á€±á€›á€¬á€€á€­á€¯á€•á€² Center á€¡á€–á€¼á€…á€º á€•á€­á€¯á€·á€•á€±á€¸á€œá€­á€¯á€€á€ºá€•á€«á€á€šá€º\n+        centerLat={initialPos[0]} \n+        centerLng={initialPos[1]} \n       />\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768896035836,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,9 +57,8 @@\n     <main className=\"h-screen w-full overflow-hidden touch-none\">\n       <FreeMap \n         userId={user.id} \n         boxes={gameBoxes} \n-        // User á€›á€²á€· á€œá€€á€ºá€›á€¾á€­á€”á€±á€›á€¬á€€á€­á€¯á€•á€² Center á€¡á€–á€¼á€…á€º á€•á€­á€¯á€·á€•á€±á€¸á€œá€­á€¯á€€á€ºá€•á€«á€á€šá€º\n         centerLat={initialPos[0]} \n         centerLng={initialPos[1]} \n       />\n     </main>\n"
                },
                {
                    "date": 1768896428816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,38 +1,48 @@\n \"use client\";\n-import { useState, useEffect } from \"react\";\n+import { useState, useEffect, useMemo } from \"react\";\n import dynamic from \"next/dynamic\";\n+import { MapContainer, Marker, useMap } from \"react-leaflet\";\n+import \"leaflet/dist/leaflet.css\";\n+import L from \"leaflet\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n \n+// Conversion constants\n const LAT_PER_FOOT = 1 / 364000;\n const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n \n+// Distance helper\n+function getDistance(lat1: number, lon1: number, lat2: number, lon2: number) {\n+  const R = 6371e3;\n+  const dLat = ((lat2 - lat1) * Math.PI) / 180;\n+  const dLon = ((lon2 - lon1) * Math.PI) / 180;\n+  const a =\n+    Math.sin(dLat / 2) ** 2 +\n+    Math.cos((lat1 * Math.PI) / 180) *\n+      Math.cos((lat2 * Math.PI) / 180) *\n+      Math.sin(dLon / 2) ** 2;\n+  return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n+}\n+\n export default function Home() {\n-  // áá‹ Hooks á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯ á€¡á€•á€±á€«á€ºá€†á€¯á€¶á€¸á€™á€¾á€¬ á€…á€¯á€‘á€¬á€¸á€›á€•á€«á€™á€šá€º\n+  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n-  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n \n-  // á‚á‹ User Info á€”á€²á€· GPS á€€á€­á€¯á€šá€°á€™á€šá€º\n+  // 1. Load user + initial GPS\n   useEffect(() => {\n-    // Login á€á€„á€ºá€‘á€¬á€¸á€á€²á€· user á€€á€­á€¯á€…á€…á€ºá€™á€šá€º\n     const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) {\n-        setUser(JSON.parse(savedUser));\n-    } else {\n-        // user á€™á€›á€¾á€­á€›á€„á€º Test user á€á€…á€ºá€šá€±á€¬á€€á€º á€¡á€…á€¬á€¸á€‘á€­á€¯á€¸á€•á€±á€¸á€‘á€¬á€¸á€™á€šá€º (Error á€™á€á€€á€ºá€¡á€±á€¬á€„á€º)\n-        setUser({ id: 1, username: \"Player 1\" });\n-    }\n+    if (savedUser) setUser(JSON.parse(savedUser));\n+    else setUser({ id: 1, username: \"Player 1\" });\n \n-    // GPS á€”á€±á€›á€¬á€€á€­á€¯á€šá€°á€™á€šá€º\n     navigator.geolocation.getCurrentPosition(\n       (pos) => {\n         const lat = pos.coords.latitude;\n         const lng = pos.coords.longitude;\n         setInitialPos([lat, lng]);\n \n-        // Box á€á€½á€±á€€á€­á€¯ User á€›á€²á€· á€œá€€á€ºá€›á€¾á€­á€”á€±á€›á€¬ á€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬á€•á€² á€á€»á€™á€šá€º\n+        // Place boxes randomly in 20ft x 20ft square\n         const boxes = [\n           { id: 1, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n           { id: 2, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n           { id: 3, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n@@ -41,26 +51,26 @@\n           const offLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n           const offLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n           return { ...box, lat: lat + offLat, lng: lng + offLng };\n         });\n+\n         setGameBoxes(boxes);\n       },\n       (err) => alert(\"GPS á€–á€á€ºá€™á€›á€•á€«á€á€–á€¼á€„á€·á€º Setting á€á€½á€„á€º Location á€á€½á€„á€·á€ºá€•á€¼á€¯á€•á€±á€¸á€•á€«\"),\n       { enableHighAccuracy: true }\n     );\n   }, []);\n \n-  // áƒá‹ Loading á€•á€¼á€á€²á€·á€¡á€•á€­á€¯á€„á€ºá€¸á€€á€­á€¯ Hooks á€á€½á€±á€›á€²á€·á€¡á€±á€¬á€€á€ºá€†á€¯á€¶á€¸á€™á€¾ á€‘á€¬á€¸á€›á€•á€«á€™á€šá€º\n-  if (!user) return <div className=\"h-screen bg-slate-900 flex items-center justify-center text-white\">Login á€…á€…á€ºá€†á€±á€¸á€”á€±á€á€Šá€º...</div>;\n-  if (!initialPos) return <div className=\"h-screen bg-slate-900 text-white flex items-center justify-center\">GPS á€›á€¾á€¬á€–á€½á€±á€”á€±á€•á€«á€á€Šá€º...</div>;\n+  if (!user) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">Login á€…á€…á€ºá€†á€±á€¸á€”á€±á€á€Šá€º...</div>;\n+  if (!initialPos) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">GPS á€›á€¾á€¬á€–á€½á€±á€”á€±á€•á€«á€á€Šá€º...</div>;\n \n   return (\n-    <main className=\"h-screen w-full overflow-hidden touch-none\">\n-      <FreeMap \n-        userId={user.id} \n-        boxes={gameBoxes} \n-        centerLat={initialPos[0]} \n-        centerLng={initialPos[1]} \n+    <main className=\"h-screen w-full overflow-hidden\">\n\\ No newline at end of file\n+      <FreeMap\n+        userId={user.id}\n+        boxes={gameBoxes}\n+        centerLat={initialPos[0]}\n+        centerLng={initialPos[1]}\n       />\n     </main>\n   );\n-}\n+}\n"
                },
                {
                    "date": 1768896544454,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,19 +11,8 @@\n const LAT_PER_FOOT = 1 / 364000;\n const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n \n // Distance helper\n-function getDistance(lat1: number, lon1: number, lat2: number, lon2: number) {\n-  const R = 6371e3;\n-  const dLat = ((lat2 - lat1) * Math.PI) / 180;\n-  const dLon = ((lon2 - lon1) * Math.PI) / 180;\n-  const a =\n-    Math.sin(dLat / 2) ** 2 +\n-    Math.cos((lat1 * Math.PI) / 180) *\n-      Math.cos((lat2 * Math.PI) / 180) *\n-      Math.sin(dLon / 2) ** 2;\n-  return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n-}\n \n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n"
                },
                {
                    "date": 1768897234773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,12 +31,12 @@\n         setInitialPos([lat, lng]);\n \n         // Place boxes randomly in 20ft x 20ft square\n         const boxes = [\n-          { id: 1, type: \"á€›á€½á€¾á€±á€á€±á€á€¹á€á€¬\" },\n-          { id: 2, type: \"á€„á€½á€±á€á€±á€á€¹á€á€¬\" },\n-          { id: 3, type: \"á€†á€±á€¸á€‘á€¯á€•á€º\" },\n-          { id: 4, type: \"á€›á€á€”á€¬á€á€±á€á€¹á€á€¬\" },\n+        { id: 1, type: \"Gold Chest\" },\n+          { id: 2, type: \"Silver Chest\" },\n+          { id: 3, type: \"Medicine Pack\" }, // or \"Medical Kit\"\n+          { id: 4, type: \"Treasure Chest\" },\n         ].map(box => {\n           const offLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n           const offLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n           return { ...box, lat: lat + offLat, lng: lng + offLng };\n@@ -61,5 +61,5 @@\n         centerLng={initialPos[1]}\n       />\n     </main>\n   );\n-}\n\\ No newline at end of file\n+}\n"
                },
                {
                    "date": 1768897263462,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n         });\n \n         setGameBoxes(boxes);\n       },\n-      (err) => alert(\"GPS á€–á€á€ºá€™á€›á€•á€«á€á€–á€¼á€„á€·á€º Setting á€á€½á€„á€º Location á€á€½á€„á€·á€ºá€•á€¼á€¯á€•á€±á€¸á€•á€«\"),\n+      (err) => alert(\"GPS cannot be read; please allow Location in Settings\"),\n       { enableHighAccuracy: true }\n     );\n   }, []);\n \n"
                },
                {
                    "date": 1768897289827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,65 @@\n+\"use client\";\n+import { useState, useEffect, useMemo } from \"react\";\n+import dynamic from \"next/dynamic\";\n+import { MapContainer, Marker, useMap } from \"react-leaflet\";\n+import \"leaflet/dist/leaflet.css\";\n+import L from \"leaflet\";\n+\n+const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n+\n+// Conversion constants\n+const LAT_PER_FOOT = 1 / 364000;\n+const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n+\n+// Distance helper\n+\n+export default function Home() {\n+  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n+  const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n+  const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n+\n+  // 1. Load user + initial GPS\n+  useEffect(() => {\n+    const savedUser = localStorage.getItem(\"game_user\");\n+    if (savedUser) setUser(JSON.parse(savedUser));\n+    else setUser({ id: 1, username: \"Player 1\" });\n+\n+    navigator.geolocation.getCurrentPosition(\n+      (pos) => {\n+        const lat = pos.coords.latitude;\n+        const lng = pos.coords.longitude;\n+        setInitialPos([lat, lng]);\n+\n+        // Place boxes randomly in 20ft x 20ft square\n+        const boxes = [\n+        { id: 1, type: \"Gold Chest\" },\n+          { id: 2, type: \"Silver Chest\" },\n+          { id: 3, type: \"Medicine Pack\" }, // or \"Medical Kit\"\n+          { id: 4, type: \"Treasure Chest\" },\n+        ].map(box => {\n+          const offLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n+          const offLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n+          return { ...box, lat: lat + offLat, lng: lng + offLng };\n+        });\n+\n+        setGameBoxes(boxes);\n+      },\n+      (err) => alert(\"GPS cannot be read; please allow Location in Settings\"),\n+      { enableHighAccuracy: true }\n+    );\n+  }, []);\n+\n+  if (!user) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">Verifying login...</div>;\n+  if (!initialPos) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">GPS á€›á€¾á€¬á€–á€½á€±á€”á€±á€•á€«á€á€Šá€º...</div>;\n+\n+  return (\n+    <main className=\"h-screen w-full overflow-hidden\">\n+      <FreeMap\n+        userId={user.id}\n+        boxes={gameBoxes}\n+        centerLat={initialPos[0]}\n+        centerLng={initialPos[1]}\n+      />\n+    </main>\n+  );\n+}\n"
                },
                {
                    "date": 1768897308784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,9 +49,9 @@\n     );\n   }, []);\n \n   if (!user) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">Verifying login...</div>;\n-  if (!initialPos) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">GPS á€›á€¾á€¬á€–á€½á€±á€”á€±á€•á€«á€á€Šá€º...</div>;\n+  if (!initialPos) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">Searching for GPS...</div>;\n \n   return (\n     <main className=\"h-screen w-full overflow-hidden\">\n       <FreeMap\n"
                },
                {
                    "date": 1768900430268,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,123 +1,56 @@\n \"use client\";\n-import { useState, useEffect, useMemo } from \"react\";\n+import { useState, useEffect } from \"react\";\n import dynamic from \"next/dynamic\";\n-import { MapContainer, Marker, useMap } from \"react-leaflet\";\n-import \"leaflet/dist/leaflet.css\";\n-import L from \"leaflet\";\n \n const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n \n-// Conversion constants\n+// 20ft x 20ft area á€¡á€á€½á€€á€º scale á€Šá€¾á€­á€‘á€¬á€¸á€á€¼á€„á€ºá€¸\n const LAT_PER_FOOT = 1 / 364000;\n const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n+const AREA_SIZE = 40; // á€•á€± á„á€ á€•á€á€ºá€œá€Šá€º Area á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€™á€šá€º\n \n-// Distance helper\n-\n export default function Home() {\n   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n   const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n \n-  // 1. Load user + initial GPS\n   useEffect(() => {\n     const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) setUser(JSON.parse(savedUser));\n-    else setUser({ id: 1, username: \"Player 1\" });\n+    setUser(savedUser ? JSON.parse(savedUser) : { id: 1, username: \"Player 1\" });\n \n     navigator.geolocation.getCurrentPosition(\n       (pos) => {\n         const lat = pos.coords.latitude;\n         const lng = pos.coords.longitude;\n         setInitialPos([lat, lng]);\n \n-        // Place boxes randomly in 20ft x 20ft square\n+        // Box á€™á€»á€¬á€¸á€€á€­á€¯ Area á€¡á€á€½á€„á€ºá€¸ á€€á€»á€•á€”á€ºá€¸á€á€»á€‘á€¬á€¸á€á€¼á€„á€ºá€¸\n         const boxes = [\n-        { id: 1, type: \"Gold Chest\" },\n+          { id: 1, type: \"Gold Chest\" },\n           { id: 2, type: \"Silver Chest\" },\n-          { id: 3, type: \"Medicine Pack\" }, // or \"Medical Kit\"\n+          { id: 3, type: \"Medicine Pack\" },\n           { id: 4, type: \"Treasure Chest\" },\n-        ].map(box => {\n-          const offLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n-          const offLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n-          return { ...box, lat: lat + offLat, lng: lng + offLng };\n-        });\n-\n+        ].map(box => ({\n+          ...box,\n+          lat: lat + (Math.random() * AREA_SIZE - AREA_SIZE/2) * LAT_PER_FOOT,\n+          lng: lng + (Math.random() * AREA_SIZE - AREA_SIZE/2) * LON_PER_FOOT,\n+        }));\n         setGameBoxes(boxes);\n       },\n-      (err) => alert(\"GPS cannot be read; please allow Location in Settings\"),\n+      (err) => alert(\"GPS error! Please allow location access.\"),\n       { enableHighAccuracy: true }\n     );\n   }, []);\n \n-  if (!user) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">Verifying login...</div>;\n-  if (!initialPos) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">Searching for GPS...</div>;\n-\n-  return (\n-    <main className=\"h-screen w-full overflow-hidden\">\n-      <FreeMap\n-        userId={user.id}\n-        boxes={gameBoxes}\n-        centerLat={initialPos[0]}\n-        centerLng={initialPos[1]}\n-      />\n-    </main>\n-  );\n-}\n-\"use client\";\n-import { useState, useEffect, useMemo } from \"react\";\n-import dynamic from \"next/dynamic\";\n-import { MapContainer, Marker, useMap } from \"react-leaflet\";\n-import \"leaflet/dist/leaflet.css\";\n-import L from \"leaflet\";\n-\n-const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n-\n-// Conversion constants\n-const LAT_PER_FOOT = 1 / 364000;\n-const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n-\n-// Distance helper\n-\n-export default function Home() {\n-  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n-  const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n-  const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n-\n-  // 1. Load user + initial GPS\n-  useEffect(() => {\n-    const savedUser = localStorage.getItem(\"game_user\");\n-    if (savedUser) setUser(JSON.parse(savedUser));\n-    else setUser({ id: 1, username: \"Player 1\" });\n-\n-    navigator.geolocation.getCurrentPosition(\n-      (pos) => {\n-        const lat = pos.coords.latitude;\n-        const lng = pos.coords.longitude;\n-        setInitialPos([lat, lng]);\n-\n-        // Place boxes randomly in 20ft x 20ft square\n-        const boxes = [\n-        { id: 1, type: \"Gold Chest\" },\n-          { id: 2, type: \"Silver Chest\" },\n-          { id: 3, type: \"Medicine Pack\" }, // or \"Medical Kit\"\n-          { id: 4, type: \"Treasure Chest\" },\n-        ].map(box => {\n-          const offLat = (Math.random() * 20 - 10) * LAT_PER_FOOT;\n-          const offLng = (Math.random() * 20 - 10) * LON_PER_FOOT;\n-          return { ...box, lat: lat + offLat, lng: lng + offLng };\n-        });\n-\n-        setGameBoxes(boxes);\n-      },\n-      (err) => alert(\"GPS cannot be read; please allow Location in Settings\"),\n-      { enableHighAccuracy: true }\n+  if (!user || !initialPos) {\n+    return (\n+      <div className=\"h-screen flex items-center justify-center text-white bg-slate-900 font-bold\">\n+        {!user ? \"Verifying Login...\" : \"Searching for GPS...\"}\n+      </div>\n     );\n-  }, []);\n+  }\n \n-  if (!user) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">Login á€…á€…á€ºá€†á€±á€¸á€”á€±á€á€Šá€º...</div>;\n-  if (!initialPos) return <div className=\"h-screen flex items-center justify-center text-white bg-slate-900\">GPS á€›á€¾á€¬á€–á€½á€±á€”á€±á€•á€«á€á€Šá€º...</div>;\n-\n   return (\n     <main className=\"h-screen w-full overflow-hidden\">\n       <FreeMap\n         userId={user.id}\n@@ -126,5 +59,5 @@\n         centerLng={initialPos[1]}\n       />\n     </main>\n   );\n-}\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768901857693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,63 +1,103 @@\n+// \"use client\";\n+// import { useState, useEffect } from \"react\";\n+// import dynamic from \"next/dynamic\";\n+\n+// const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n+\n+// // 20ft x 20ft area á€¡á€á€½á€€á€º scale á€Šá€¾á€­á€‘á€¬á€¸á€á€¼á€„á€ºá€¸\n+// const LAT_PER_FOOT = 1 / 364000;\n+// const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n+// const AREA_SIZE = 40; // á€•á€± á„á€ á€•á€á€ºá€œá€Šá€º Area á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€™á€šá€º\n+\n+// export default function Home() {\n+//   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n+//   const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n+//   const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n+\n+//   useEffect(() => {\n+//     const savedUser = localStorage.getItem(\"game_user\");\n+//     setUser(savedUser ? JSON.parse(savedUser) : { id: 1, username: \"Player 1\" });\n+\n+//     navigator.geolocation.getCurrentPosition(\n+//       (pos) => {\n+//         const lat = pos.coords.latitude;\n+//         const lng = pos.coords.longitude;\n+//         setInitialPos([lat, lng]);\n+\n+//         // Box á€™á€»á€¬á€¸á€€á€­á€¯ Area á€¡á€á€½á€„á€ºá€¸ á€€á€»á€•á€”á€ºá€¸á€á€»á€‘á€¬á€¸á€á€¼á€„á€ºá€¸\n+//         const boxes = [\n+//           { id: 1, type: \"Gold Chest\" },\n+//           { id: 2, type: \"Silver Chest\" },\n+//           { id: 3, type: \"Medicine Pack\" },\n+//           { id: 4, type: \"Treasure Chest\" },\n+//         ].map(box => ({\n+//           ...box,\n+//           lat: lat + (Math.random() * AREA_SIZE - AREA_SIZE/2) * LAT_PER_FOOT,\n+//           lng: lng + (Math.random() * AREA_SIZE - AREA_SIZE/2) * LON_PER_FOOT,\n+//         }));\n+//         setGameBoxes(boxes);\n+//       },\n+//       (err) => alert(\"GPS error! Please allow location access.\"),\n+//       { enableHighAccuracy: true }\n+//     );\n+//   }, []);\n+\n+//   if (!user || !initialPos) {\n+//     return (\n+//       <div className=\"h-screen flex items-center justify-center text-white bg-slate-900 font-bold\">\n+//         {!user ? \"Verifying Login...\" : \"Searching for GPS...\"}\n+//       </div>\n+//     );\n+//   }\n+\n+//   return (\n+//     <main className=\"h-screen w-full overflow-hidden\">\n+//       <FreeMap\n+//         userId={user.id}\n+//         boxes={gameBoxes}\n+//         centerLat={initialPos[0]}\n+//         centerLng={initialPos[1]}\n+//       />\n+//     </main>\n+//   );\n+// }\n+\n+\n \"use client\";\n import { useState, useEffect } from \"react\";\n import dynamic from \"next/dynamic\";\n \n-const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n+const PhaserGame = dynamic(() => import(\"../components/PhaserGame\"), { ssr: false });\n \n-// 20ft x 20ft area á€¡á€á€½á€€á€º scale á€Šá€¾á€­á€‘á€¬á€¸á€á€¼á€„á€ºá€¸\n-const LAT_PER_FOOT = 1 / 364000;\n-const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n-const AREA_SIZE = 40; // á€•á€± á„á€ á€•á€á€ºá€œá€Šá€º Area á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€™á€šá€º\n-\n export default function Home() {\n-  const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n   const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n-  const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n+  const [currentPos, setCurrentPos] = useState<[number, number] | null>(null);\n \n   useEffect(() => {\n-    const savedUser = localStorage.getItem(\"game_user\");\n-    setUser(savedUser ? JSON.parse(savedUser) : { id: 1, username: \"Player 1\" });\n+    navigator.geolocation.getCurrentPosition((pos) => {\n+      const { latitude, longitude } = pos.coords;\n+      setInitialPos([latitude, longitude]);\n+      setCurrentPos([latitude, longitude]);\n+    });\n \n-    navigator.geolocation.getCurrentPosition(\n-      (pos) => {\n-        const lat = pos.coords.latitude;\n-        const lng = pos.coords.longitude;\n-        setInitialPos([lat, lng]);\n+    const watchId = navigator.geolocation.watchPosition((pos) => {\n+      setCurrentPos([pos.coords.latitude, pos.coords.longitude]);\n+    }, null, { enableHighAccuracy: true });\n \n-        // Box á€™á€»á€¬á€¸á€€á€­á€¯ Area á€¡á€á€½á€„á€ºá€¸ á€€á€»á€•á€”á€ºá€¸á€á€»á€‘á€¬á€¸á€á€¼á€„á€ºá€¸\n-        const boxes = [\n-          { id: 1, type: \"Gold Chest\" },\n-          { id: 2, type: \"Silver Chest\" },\n-          { id: 3, type: \"Medicine Pack\" },\n-          { id: 4, type: \"Treasure Chest\" },\n-        ].map(box => ({\n-          ...box,\n-          lat: lat + (Math.random() * AREA_SIZE - AREA_SIZE/2) * LAT_PER_FOOT,\n-          lng: lng + (Math.random() * AREA_SIZE - AREA_SIZE/2) * LON_PER_FOOT,\n-        }));\n-        setGameBoxes(boxes);\n-      },\n-      (err) => alert(\"GPS error! Please allow location access.\"),\n-      { enableHighAccuracy: true }\n-    );\n+    return () => navigator.geolocation.clearWatch(watchId);\n   }, []);\n \n-  if (!user || !initialPos) {\n-    return (\n-      <div className=\"h-screen flex items-center justify-center text-white bg-slate-900 font-bold\">\n-        {!user ? \"Verifying Login...\" : \"Searching for GPS...\"}\n-      </div>\n-    );\n-  }\n+  if (!initialPos || !currentPos) return <div>GPS Loading...</div>;\n \n   return (\n-    <main className=\"h-screen w-full overflow-hidden\">\n-      <FreeMap\n-        userId={user.id}\n-        boxes={gameBoxes}\n-        centerLat={initialPos[0]}\n+    <main className=\"h-screen w-full bg-slate-900 overflow-hidden\">\n+      <PhaserGame \n+        centerLat={initialPos[0]} \n         centerLng={initialPos[1]}\n+        currentLat={currentPos[0]}\n+        currentLng={currentPos[1]}\n+        boxes={[{ id: 1, lat: initialPos[0] + 0.0001, lng: initialPos[1] + 0.0001, type: \"Gold\" }]}\n       />\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768902106041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,14 +71,26 @@\n \n export default function Home() {\n   const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n   const [currentPos, setCurrentPos] = useState<[number, number] | null>(null);\n+  const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n \n   useEffect(() => {\n     navigator.geolocation.getCurrentPosition((pos) => {\n-      const { latitude, longitude } = pos.coords;\n-      setInitialPos([latitude, longitude]);\n-      setCurrentPos([latitude, longitude]);\n+      const lat = pos.coords.latitude;\n+      const lng = pos.coords.longitude;\n+      \n+      setInitialPos([lat, lng]);\n+      setCurrentPos([lat, lng]);\n+\n+      // Player á€›á€²á€· á€•á€á€ºá€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ Box á… á€á€¯ Random á€á€»á€™á€šá€º\n+      const boxes = Array.from({ length: 5 }).map((_, i) => ({\n+        id: i,\n+        lat: lat + (Math.random() * 0.0002 - 0.0001),\n+        lng: lng + (Math.random() * 0.0002 - 0.0001),\n+        type: \"Treasure\"\n+      }));\n+      setGameBoxes(boxes);\n     });\n \n     const watchId = navigator.geolocation.watchPosition((pos) => {\n       setCurrentPos([pos.coords.latitude, pos.coords.longitude]);\n@@ -86,18 +98,22 @@\n \n     return () => navigator.geolocation.clearWatch(watchId);\n   }, []);\n \n-  if (!initialPos || !currentPos) return <div>GPS Loading...</div>;\n+  if (!initialPos || !currentPos) return <div className=\"h-screen bg-black text-white flex items-center justify-center\">GPS Loading...</div>;\n \n   return (\n-    <main className=\"h-screen w-full bg-slate-900 overflow-hidden\">\n+    <main className=\"h-screen w-full bg-black overflow-hidden relative\">\n       <PhaserGame \n         centerLat={initialPos[0]} \n         centerLng={initialPos[1]}\n         currentLat={currentPos[0]}\n         currentLng={currentPos[1]}\n-        boxes={[{ id: 1, lat: initialPos[0] + 0.0001, lng: initialPos[1] + 0.0001, type: \"Gold\" }]}\n+        boxes={gameBoxes}\n       />\n+      \n+      <div className=\"absolute top-5 left-5 z-50 text-white bg-black/50 p-2 rounded\">\n+        GPS: {currentPos[0].toFixed(5)}, {currentPos[1].toFixed(5)}\n+      </div>\n     </main>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768904195348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,11 +92,18 @@\n       setGameBoxes(boxes);\n     });\n \n     const watchId = navigator.geolocation.watchPosition((pos) => {\n-      setCurrentPos([pos.coords.latitude, pos.coords.longitude]);\n-    }, null, { enableHighAccuracy: true });\n+  // Accuracy (á€á€­á€€á€»á€™á€¾á€¯) á€™á€€á€±á€¬á€„á€ºá€¸á€›á€„á€º á€œá€¯á€¶á€¸á€ á€™á€›á€½á€±á€·á€á€­á€¯á€„á€ºá€¸á€”á€²á€·\n+  // á€™á€®á€á€¬ á‚á€ (á€•á€± á†á€) á€‘á€€á€º accuracy á€†á€­á€¯á€¸á€”á€±á€›á€„á€º data á€€á€­á€¯ á€•á€…á€ºá€œá€­á€¯á€€á€ºá€•á€«\n+  if (pos.coords.accuracy > 20) return; \n \n+  setCurrentPos([pos.coords.latitude, pos.coords.longitude]);\n+}, null, { \n+  enableHighAccuracy: true, // GPS hardware á€€á€­á€¯ á€¡á€™á€¼á€„á€·á€ºá€†á€¯á€¶á€¸á€á€¯á€¶á€¸á€á€­á€¯á€„á€ºá€¸á€™á€šá€º\n+  maximumAge: 0 \n+});\n+\n     return () => navigator.geolocation.clearWatch(watchId);\n   }, []);\n \n   if (!initialPos || !currentPos) return <div className=\"h-screen bg-black text-white flex items-center justify-center\">GPS Loading...</div>;\n"
                },
                {
                    "date": 1768963086610,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,8 +78,10 @@\n     navigator.geolocation.getCurrentPosition((pos) => {\n       const lat = pos.coords.latitude;\n       const lng = pos.coords.longitude;\n       \n+      console.log('lat',lat);\n+      console.log('lng',lng)\n       setInitialPos([lat, lng]);\n       setCurrentPos([lat, lng]);\n \n       // Player á€›á€²á€· á€•á€á€ºá€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ Box á… á€á€¯ Random á€á€»á€™á€šá€º\n"
                },
                {
                    "date": 1768964774187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,18 +94,20 @@\n       setGameBoxes(boxes);\n     });\n \n     const watchId = navigator.geolocation.watchPosition((pos) => {\n-  // Accuracy (á€á€­á€€á€»á€™á€¾á€¯) á€™á€€á€±á€¬á€„á€ºá€¸á€›á€„á€º á€œá€¯á€¶á€¸á€ á€™á€›á€½á€±á€·á€á€­á€¯á€„á€ºá€¸á€”á€²á€·\n-  // á€™á€®á€á€¬ á‚á€ (á€•á€± á†á€) á€‘á€€á€º accuracy á€†á€­á€¯á€¸á€”á€±á€›á€„á€º data á€€á€­á€¯ á€•á€…á€ºá€œá€­á€¯á€€á€ºá€•á€«\n-  if (pos.coords.accuracy > 20) return; \n+  // Accuracy 10-15 meter á€‘á€€á€º á€•á€­á€¯á€†á€­á€¯á€¸á€›á€„á€º á€œá€€á€ºá€™á€á€¶á€”á€²á€·\n+  if (pos.coords.accuracy > 15) return; \n \n   setCurrentPos([pos.coords.latitude, pos.coords.longitude]);\n }, null, { \n-  enableHighAccuracy: true, // GPS hardware á€€á€­á€¯ á€¡á€™á€¼á€„á€·á€ºá€†á€¯á€¶á€¸á€á€¯á€¶á€¸á€á€­á€¯á€„á€ºá€¸á€™á€šá€º\n-  maximumAge: 0 \n+  enableHighAccuracy: true,\n+  maximumAge: 0,\n+  timeout: 5000 // á… á€…á€€á€¹á€€á€”á€·á€ºá€¡á€á€½á€„á€ºá€¸ data á€™á€›á€›á€„á€º error á€•á€¼á€á€­á€¯á€„á€ºá€¸á€™á€šá€º\n });\n \n+\n+\n     return () => navigator.geolocation.clearWatch(watchId);\n   }, []);\n \n   if (!initialPos || !currentPos) return <div className=\"h-screen bg-black text-white flex items-center justify-center\">GPS Loading...</div>;\n"
                },
                {
                    "date": 1768965009203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,14 +61,15 @@\n //     </main>\n //   );\n // }\n \n-\n \"use client\";\n import { useState, useEffect } from \"react\";\n import dynamic from \"next/dynamic\";\n \n-const PhaserGame = dynamic(() => import(\"../components/PhaserGame\"), { ssr: false });\n+const PhaserGame = dynamic(() => import(\"../components/PhaserGame\"), {\n+  ssr: false,\n+});\n \n export default function Home() {\n   const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n   const [currentPos, setCurrentPos] = useState<[number, number] | null>(null);\n@@ -77,54 +78,61 @@\n   useEffect(() => {\n     navigator.geolocation.getCurrentPosition((pos) => {\n       const lat = pos.coords.latitude;\n       const lng = pos.coords.longitude;\n-      \n-      console.log('lat',lat);\n-      console.log('lng',lng);\n+\n+      console.log(\"lat\", lat);\n+      console.log(\"lng\", lng);\n       setInitialPos([lat, lng]);\n       setCurrentPos([lat, lng]);\n \n       // Player á€›á€²á€· á€•á€á€ºá€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ Box á… á€á€¯ Random á€á€»á€™á€šá€º\n       const boxes = Array.from({ length: 5 }).map((_, i) => ({\n         id: i,\n         lat: lat + (Math.random() * 0.0002 - 0.0001),\n         lng: lng + (Math.random() * 0.0002 - 0.0001),\n-        type: \"Treasure\"\n+        type: \"Treasure\",\n       }));\n       setGameBoxes(boxes);\n     });\n \n-    const watchId = navigator.geolocation.watchPosition((pos) => {\n-  // Accuracy 10-15 meter á€‘á€€á€º á€•á€­á€¯á€†á€­á€¯á€¸á€›á€„á€º á€œá€€á€ºá€™á€á€¶á€”á€²á€·\n-  if (pos.coords.accuracy > 15) return; \n+    const watchId = navigator.geolocation.watchPosition(\n+      (pos) => {\n+        // Accuracy 10-15 meter á€‘á€€á€º á€•á€­á€¯á€†á€­á€¯á€¸á€›á€„á€º á€œá€€á€ºá€™á€á€¶á€”á€²á€·\n+        if (pos.coords.accuracy > 15) return;\n \n-  setCurrentPos([pos.coords.latitude, pos.coords.longitude]);\n-}, null, { \n-  enableHighAccuracy: true,\n-  maximumAge: 0,\n-  timeout: 5000 // á… á€…á€€á€¹á€€á€”á€·á€ºá€¡á€á€½á€„á€ºá€¸ data á€™á€›á€›á€„á€º error á€•á€¼á€á€­á€¯á€„á€ºá€¸á€™á€šá€º\n-});\n+        setCurrentPos([pos.coords.latitude, pos.coords.longitude]);\n+      },\n+      null,\n+      {\n+        enableHighAccuracy: true,\n+        maximumAge: 0,\n+        timeout: 5000, // á… á€…á€€á€¹á€€á€”á€·á€ºá€¡á€á€½á€„á€ºá€¸ data á€™á€›á€›á€„á€º error á€•á€¼á€á€­á€¯á€„á€ºá€¸á€™á€šá€º\n+      },\n+    );\n \n-\n-\n     return () => navigator.geolocation.clearWatch(watchId);\n   }, []);\n \n-  if (!initialPos || !currentPos) return <div className=\"h-screen bg-black text-white flex items-center justify-center\">GPS Loading...</div>;\n\\ No newline at end of file\n+  if (!initialPos || !currentPos)\n+    return (\n+      <div className=\"h-screen bg-black text-white flex items-center justify-center\">\n+        GPS Loading...\n+      </div>\n+    );\n \n   return (\n     <main className=\"h-screen w-full bg-black overflow-hidden relative\">\n-      <PhaserGame \n-        centerLat={initialPos[0]} \n+      <PhaserGame\n+        centerLat={initialPos[0]}\n         centerLng={initialPos[1]}\n         currentLat={currentPos[0]}\n         currentLng={currentPos[1]}\n         boxes={gameBoxes}\n       />\n-      \n+\n       <div className=\"absolute top-5 left-5 z-50 text-white bg-black/50 p-2 rounded\">\n         GPS: {currentPos[0].toFixed(5)}, {currentPos[1].toFixed(5)}\n       </div>\n     </main>\n   );\n-}\n+}\n"
                },
                {
                    "date": 1768965021258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,138 @@\n+// \"use client\";\n+// import { useState, useEffect } from \"react\";\n+// import dynamic from \"next/dynamic\";\n+\n+// const FreeMap = dynamic(() => import(\"../components/FreeMap\"), { ssr: false });\n+\n+// // 20ft x 20ft area á€¡á€á€½á€€á€º scale á€Šá€¾á€­á€‘á€¬á€¸á€á€¼á€„á€ºá€¸\n+// const LAT_PER_FOOT = 1 / 364000;\n+// const LON_PER_FOOT = 1 / (364000 * Math.cos(16.8076918 * Math.PI / 180));\n+// const AREA_SIZE = 40; // á€•á€± á„á€ á€•á€á€ºá€œá€Šá€º Area á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€™á€šá€º\n+\n+// export default function Home() {\n+//   const [user, setUser] = useState<{ id: number; username: string } | null>(null);\n+//   const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n+//   const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n+\n+//   useEffect(() => {\n+//     const savedUser = localStorage.getItem(\"game_user\");\n+//     setUser(savedUser ? JSON.parse(savedUser) : { id: 1, username: \"Player 1\" });\n+\n+//     navigator.geolocation.getCurrentPosition(\n+//       (pos) => {\n+//         const lat = pos.coords.latitude;\n+//         const lng = pos.coords.longitude;\n+//         setInitialPos([lat, lng]);\n+\n+//         // Box á€™á€»á€¬á€¸á€€á€­á€¯ Area á€¡á€á€½á€„á€ºá€¸ á€€á€»á€•á€”á€ºá€¸á€á€»á€‘á€¬á€¸á€á€¼á€„á€ºá€¸\n+//         const boxes = [\n+//           { id: 1, type: \"Gold Chest\" },\n+//           { id: 2, type: \"Silver Chest\" },\n+//           { id: 3, type: \"Medicine Pack\" },\n+//           { id: 4, type: \"Treasure Chest\" },\n+//         ].map(box => ({\n+//           ...box,\n+//           lat: lat + (Math.random() * AREA_SIZE - AREA_SIZE/2) * LAT_PER_FOOT,\n+//           lng: lng + (Math.random() * AREA_SIZE - AREA_SIZE/2) * LON_PER_FOOT,\n+//         }));\n+//         setGameBoxes(boxes);\n+//       },\n+//       (err) => alert(\"GPS error! Please allow location access.\"),\n+//       { enableHighAccuracy: true }\n+//     );\n+//   }, []);\n+\n+//   if (!user || !initialPos) {\n+//     return (\n+//       <div className=\"h-screen flex items-center justify-center text-white bg-slate-900 font-bold\">\n+//         {!user ? \"Verifying Login...\" : \"Searching for GPS...\"}\n+//       </div>\n+//     );\n+//   }\n+\n+//   return (\n+//     <main className=\"h-screen w-full overflow-hidden\">\n+//       <FreeMap\n+//         userId={user.id}\n+//         boxes={gameBoxes}\n+//         centerLat={initialPos[0]}\n+//         centerLng={initialPos[1]}\n+//       />\n+//     </main>\n+//   );\n+// }\n+\n+\"use client\";\n+import { useState, useEffect } from \"react\";\n+import dynamic from \"next/dynamic\";\n+\n+const PhaserGame = dynamic(() => import(\"../components/PhaserGame\"), {\n+  ssr: false,\n+});\n+\n+export default function Home() {\n+  const [initialPos, setInitialPos] = useState<[number, number] | null>(null);\n+  const [currentPos, setCurrentPos] = useState<[number, number] | null>(null);\n+  const [gameBoxes, setGameBoxes] = useState<any[]>([]);\n+\n+  useEffect(() => {\n+    navigator.geolocation.getCurrentPosition((pos) => {\n+      const lat = pos.coords.latitude;\n+      const lng = pos.coords.longitude;\n+\n+      console.log(\"lat\", lat);\n+      console.log(\"lng\", lng);\n+      setInitialPos([lat, lng]);\n+      setCurrentPos([lat, lng]);\n+\n+      // Player á€›á€²á€· á€•á€á€ºá€•á€á€ºá€œá€Šá€ºá€™á€¾á€¬ Box á… á€á€¯ Random á€á€»á€™á€šá€º\n+      const boxes = Array.from({ length: 5 }).map((_, i) => ({\n+        id: i,\n+        lat: lat + (Math.random() * 0.0002 - 0.0001),\n+        lng: lng + (Math.random() * 0.0002 - 0.0001),\n+        type: \"Treasure\",\n+      }));\n+      setGameBoxes(boxes);\n+    });\n+\n+    const watchId = navigator.geolocation.watchPosition(\n+      (pos) => {\n+        // Accuracy 10-15 meter á€‘á€€á€º á€•á€­á€¯á€†á€­á€¯á€¸á€›á€„á€º á€œá€€á€ºá€™á€á€¶á€”á€²á€·\n+        if (pos.coords.accuracy > 15) return;\n+\n+        setCurrentPos([pos.coords.latitude, pos.coords.longitude]);\n+      },\n+      null,\n+      {\n+        enableHighAccuracy: true,\n+        maximumAge: 0,\n+        timeout: 1000, // á… á€…á€€á€¹á€€á€”á€·á€ºá€¡á€á€½á€„á€ºá€¸ data á€™á€›á€›á€„á€º error á€•á€¼á€á€­á€¯á€„á€ºá€¸á€™á€šá€º\n+      },\n+    );\n+\n+    return () => navigator.geolocation.clearWatch(watchId);\n+  }, []);\n+\n+  if (!initialPos || !currentPos)\n+    return (\n+      <div className=\"h-screen bg-black text-white flex items-center justify-center\">\n+        GPS Loading...\n+      </div>\n+    );\n+\n+  return (\n+    <main className=\"h-screen w-full bg-black overflow-hidden relative\">\n+      <PhaserGame\n+        centerLat={initialPos[0]}\n+        centerLng={initialPos[1]}\n+        currentLat={currentPos[0]}\n+        currentLng={currentPos[1]}\n+        boxes={gameBoxes}\n+      />\n+\n+      <div className=\"absolute top-5 left-5 z-50 text-white bg-black/50 p-2 rounded\">\n+        GPS: {currentPos[0].toFixed(5)}, {currentPos[1].toFixed(5)}\n+      </div>\n+    </main>\n+  );\n+}\n"
                }
            ],
            "date": 1768813835778,
            "name": "Commit-0",
            "content": "// src/app/page.tsx\nimport dynamic from 'next/dynamic';\n\n// SSR á€€á€­á€¯ false á€‘á€¬á€¸á€›á€•á€«á€™á€šá€º\nconst FreeMap = dynamic(() => import('@/components/FreeMap'), { \n  ssr: false,\n  loading: () => <p className=\"text-center p-10\">Map á€€á€­á€¯ á€–á€½á€„á€·á€ºá€”á€±á€á€Šá€º...</p>\n});\n\nexport default function Home() {\n  // Database á€€ data á€á€½á€±á€€á€­á€¯ á€’á€®á€™á€¾á€¬ fetch á€œá€¯á€•á€ºá€•á€¼á€®á€¸ FreeMap á€†á€® á€•á€­á€¯á€·á€•á€±á€¸á€•á€«\n  const dummyBoxes = [{ id: 1, lat: 16.8402, lng: 96.1732 }];\n\n  return (\n    <main>\n      <FreeMap boxes={dummyBoxes} />\n    </main>\n  );\n}"
        }
    ]
}