{
    "sourceFile": "components/GameMap.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 21,
            "patches": [
                {
                    "date": 1768968739593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1768968837297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,102 +1,77 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, Marker, useMap, Popup } from 'react-leaflet';\r\n import L from 'leaflet';\r\n import 'leaflet/dist/leaflet.css';\r\n-import { useEffect, useState } from 'react';\r\n+import { useEffect, useState, useMemo } from 'react';\r\n \r\n-// Marker Icon Fix for Leaflet in Next.js\r\n+// Marker Icon Fix (Next.js á€™á€¾á€¬ icon á€•á€»á€±á€¬á€€á€ºá€á€á€ºá€œá€­á€¯á€· á€•á€¯á€¶á€á€±á€á€á€ºá€™á€¾á€á€ºá€á€¬á€•á€«)\r\n const playerIcon = new L.Icon({\r\n     iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n     iconSize: [40, 40],\r\n     iconAnchor: [20, 40],\r\n });\r\n \r\n-const pokemonIcon = new L.Icon({\r\n-    iconUrl: 'https://cdn-icons-png.flaticon.com/512/188/188987.png',\r\n-    iconSize: [30, 30],\r\n-});\r\n-\r\n-// Map á€€á€­á€¯ Player á€”á€±á€¬á€€á€ºá€€ á€œá€­á€¯á€€á€ºá€¡á€±á€¬á€„á€º á€œá€¯á€•á€ºá€•á€±á€¸á€á€²á€· Component\r\n function CameraFollow({ position }) {\r\n     const map = useMap();\r\n     useEffect(() => {\r\n-        map.setView(position, map.getZoom(), { animate: true });\r\n+        if (position) {\r\n+            map.setView(position, map.getZoom(), { animate: true });\r\n+        }\r\n     }, [position, map]);\r\n     return null;\r\n }\r\n \r\n export default function GameMap() {\r\n-    // á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€ºá€€á€­á€¯ Latitude/Longitude á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€á€¼á€„á€ºá€¸ (á€¥á€•á€™á€¬ Center Point á€á€…á€ºá€á€¯á€šá€°á€‘á€¬á€¸á€á€Šá€º)\r\n     const center = [16.8403, 96.1735];\r\n-    const roomBounds = [\r\n+    \r\n+    // Bounds á€€á€­á€¯ LatLngBounds object á€¡á€–á€¼á€…á€º á€á€±á€á€»á€¬á€•á€¼á€±á€¬á€„á€ºá€¸á€•á€±á€¸á€•á€«\r\n+    const roomBounds = useMemo(() => [\r\n         [16.84025, 96.17345], // Bottom Left\r\n-        [16.84035, 96.17355]  // Top Right (á€•á€± á‚á€ á€á€”á€·á€º area)\r\n-    ];\r\n+        [16.84035, 96.17355]  // Top Right\r\n+    ], []);\r\n \r\n     const [playerPosition, setPlayerPosition] = useState(center);\r\n-    const [status, setStatus] = useState(\"Walking...\");\r\n \r\n-    // GPS Tracking\r\n     useEffect(() => {\r\n-        if (!navigator.geolocation) return;\r\n-\r\n-        const watchId = navigator.geolocation.watchPosition(\r\n-            (pos) => {\r\n-                const { latitude, longitude } = pos.coords;\r\n-                \r\n-                // Boundary Check: á€¡á€á€”á€ºá€¸á€‘á€²á€™á€¾á€¬ á€›á€¾á€­á€™á€›á€¾á€­ á€…á€…á€ºá€†á€±á€¸á€á€¼á€„á€ºá€¸\r\n-                const isInside = \r\n-                    latitude >= roomBounds[0][0] && latitude <= roomBounds[1][0] &&\r\n-                    longitude >= roomBounds[0][1] && longitude <= roomBounds[1][1];\r\n-\r\n-                if (isInside) {\r\n+        if (typeof window !== \"undefined\" && navigator.geolocation) {\r\n+            const watchId = navigator.geolocation.watchPosition(\r\n+                (pos) => {\r\n+                    const { latitude, longitude } = pos.coords;\r\n                     setPlayerPosition([latitude, longitude]);\r\n-                    setStatus(\"Inside the Room\");\r\n-                } else {\r\n-                    setStatus(\"Outside! Please go back.\");\r\n-                }\r\n-            },\r\n-            (err) => console.error(err),\r\n-            { enableHighAccuracy: true, maximumAge: 0 }\r\n-        );\r\n-\r\n-        return () => navigator.geolocation.clearWatch(watchId);\r\n+                },\r\n+                (err) => console.error(\"GPS Error:\", err),\r\n+                { enableHighAccuracy: true }\r\n+            );\r\n+            return () => navigator.geolocation.clearWatch(watchId);\r\n+        }\r\n     }, []);\r\n \r\n-    // Virtual Map Image (á€¥á€•á€™á€¬ - á€¡á€á€”á€ºá€¸ floor plan á€•á€¯á€¶)\r\n     const virtualMapUrl = \"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\";\r\n \r\n     return (\r\n-        <div className=\"relative w-full h-screen\">\r\n-            <div className=\"absolute top-4 left-4 z-[1000] bg-white p-2 rounded shadow-lg\">\r\n-                <p className=\"font-bold\">Status: {status}</p>\r\n-                <p className=\"text-sm\">Lat: {playerPosition[0].toFixed(6)}</p>\r\n-                <p className=\"text-sm\">Lng: {playerPosition[1].toFixed(6)}</p>\r\n-            </div>\r\n-\r\n+        <div style={{ height: \"100vh\", width: \"100vw\" }}>\r\n             <MapContainer\r\n                 center={center}\r\n-                zoom={22}\r\n+                zoom={21}\r\n+                scrollWheelZoom={false}\r\n+                dragging={false} \r\n+                zoomControl={false}\r\n                 style={{ height: \"100%\", width: \"100%\" }}\r\n-                dragging={false} // User á€œá€€á€ºá€”á€²á€· á€›á€½á€¾á€±á€·á€œá€­á€¯á€·á€™á€›á€¡á€±á€¬á€„á€º á€•á€­á€á€ºá€‘á€¬á€¸á€á€Šá€º\r\n-                zoomControl={false}\r\n             >\r\n-                {/* Virtual Background */}\r\n+                {/* Virtual Background Image */}\r\n                 <ImageOverlay\r\n                     url={virtualMapUrl}\r\n                     bounds={roomBounds}\r\n+                    zIndex={10}\r\n                 />\r\n \r\n                 <CameraFollow position={playerPosition} />\r\n \r\n-                {/* Player Marker */}\r\n                 <Marker position={playerPosition} icon={playerIcon} />\r\n-\r\n-                {/* Example Pokemon Item */}\r\n-                <Marker position={[16.84032, 96.17352]} icon={pokemonIcon}>\r\n-                    <Popup>Catch Me!</Popup>\r\n-                </Marker>\r\n+                \r\n+                {/* á€¥á€•á€™á€¬ Pokemon - á€¡á€á€”á€ºá€¸á€¡á€…á€½á€”á€ºá€¸á€”á€¬á€¸á€™á€¾á€¬ á€‘á€¬á€¸á€€á€¼á€Šá€·á€ºá€™á€šá€º */}\r\n+                <Marker position={[16.84034, 96.17354]} icon={playerIcon} />\r\n             </MapContainer>\r\n         </div>\r\n     );\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768968885005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n import { MapContainer, ImageOverlay, Marker, useMap, Popup } from 'react-leaflet';\r\n import L from 'leaflet';\r\n import 'leaflet/dist/leaflet.css';\r\n import { useEffect, useState, useMemo } from 'react';\r\n-\r\n+import { LatLngTuple } from 'leaflet';\r\n // Marker Icon Fix (Next.js á€™á€¾á€¬ icon á€•á€»á€±á€¬á€€á€ºá€á€á€ºá€œá€­á€¯á€· á€•á€¯á€¶á€á€±á€á€á€ºá€™á€¾á€á€ºá€á€¬á€•á€«)\r\n const playerIcon = new L.Icon({\r\n     iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n     iconSize: [40, 40],\r\n"
                },
                {
                    "date": 1768968892937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n }\r\n \r\n export default function GameMap() {\r\n     const center = [16.8403, 96.1735];\r\n-    \r\n+    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>([16.8403, 96.1735]);\r\n     // Bounds á€€á€­á€¯ LatLngBounds object á€¡á€–á€¼á€…á€º á€á€±á€á€»á€¬á€•á€¼á€±á€¬á€„á€ºá€¸á€•á€±á€¸á€•á€«\r\n     const roomBounds = useMemo(() => [\r\n         [16.84025, 96.17345], // Bottom Left\r\n         [16.84035, 96.17355]  // Top Right\r\n"
                },
                {
                    "date": 1768968899780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,8 @@\n         [16.84025, 96.17345], // Bottom Left\r\n         [16.84035, 96.17355]  // Top Right\r\n     ], []);\r\n \r\n-    const [playerPosition, setPlayerPosition] = useState(center);\r\n \r\n     useEffect(() => {\r\n         if (typeof window !== \"undefined\" && navigator.geolocation) {\r\n             const watchId = navigator.geolocation.watchPosition(\r\n"
                },
                {
                    "date": 1768968942758,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,45 +1,47 @@\n \"use client\";\r\n-import { MapContainer, ImageOverlay, Marker, useMap, Popup } from 'react-leaflet';\r\n-import L from 'leaflet';\r\n+import { MapContainer, ImageOverlay, Marker, useMap } from 'react-leaflet';\r\n+import L, { LatLngTuple, LatLngBoundsLiteral } from 'leaflet';\r\n import 'leaflet/dist/leaflet.css';\r\n import { useEffect, useState, useMemo } from 'react';\r\n-import { LatLngTuple } from 'leaflet';\r\n-// Marker Icon Fix (Next.js á€™á€¾á€¬ icon á€•á€»á€±á€¬á€€á€ºá€á€á€ºá€œá€­á€¯á€· á€•á€¯á€¶á€á€±á€á€á€ºá€™á€¾á€á€ºá€á€¬á€•á€«)\r\n+\r\n+// Marker Icon Fix\r\n const playerIcon = new L.Icon({\r\n     iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n     iconSize: [40, 40],\r\n     iconAnchor: [20, 40],\r\n });\r\n \r\n-function CameraFollow({ position }) {\r\n+// Map Camera Follow Logic\r\n+function CameraFollow({ position }: { position: LatLngTuple }) {\r\n     const map = useMap();\r\n     useEffect(() => {\r\n-        if (position) {\r\n-            map.setView(position, map.getZoom(), { animate: true });\r\n-        }\r\n+        map.setView(position, map.getZoom(), { animate: true });\r\n     }, [position, map]);\r\n     return null;\r\n }\r\n \r\n export default function GameMap() {\r\n-    const center = [16.8403, 96.1735];\r\n-    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>([16.8403, 96.1735]);\r\n-    // Bounds á€€á€­á€¯ LatLngBounds object á€¡á€–á€¼á€…á€º á€á€±á€á€»á€¬á€•á€¼á€±á€¬á€„á€ºá€¸á€•á€±á€¸á€•á€«\r\n-    const roomBounds = useMemo(() => [\r\n-        [16.84025, 96.17345], // Bottom Left\r\n-        [16.84035, 96.17355]  // Top Right\r\n+    // 1. Center á€€á€­á€¯ LatLngTuple á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€•á€«\r\n+    const initialCenter: LatLngTuple = [16.8403, 96.1735];\r\n+    \r\n+    // 2. Bounds á€€á€­á€¯ LatLngBoundsLiteral á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€•á€«\r\n+    const roomBounds: LatLngBoundsLiteral = useMemo(() => [\r\n+        [16.84025, 96.17345], \r\n+        [16.84035, 96.17355]\r\n     ], []);\r\n \r\n+    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>(initialCenter);\r\n \r\n     useEffect(() => {\r\n         if (typeof window !== \"undefined\" && navigator.geolocation) {\r\n             const watchId = navigator.geolocation.watchPosition(\r\n                 (pos) => {\r\n                     const { latitude, longitude } = pos.coords;\r\n-                    setPlayerPosition([latitude, longitude]);\r\n+                    // value á€á€½á€±á€€á€­á€¯ tuple type á€¡á€–á€¼á€…á€º cast á€œá€¯á€•á€ºá€•á€±á€¸á€•á€«\r\n+                    setPlayerPosition([latitude, longitude] as LatLngTuple);\r\n                 },\r\n-                (err) => console.error(\"GPS Error:\", err),\r\n+                (err) => console.error(err),\r\n                 { enableHighAccuracy: true }\r\n             );\r\n             return () => navigator.geolocation.clearWatch(watchId);\r\n         }\r\n@@ -49,28 +51,26 @@\n \r\n     return (\r\n         <div style={{ height: \"100vh\", width: \"100vw\" }}>\r\n             <MapContainer\r\n-                center={center}\r\n+                center={initialCenter} // Fixed: LatLngTuple\r\n                 zoom={21}\r\n                 scrollWheelZoom={false}\r\n-                dragging={false} \r\n+                dragging={false}\r\n                 zoomControl={false}\r\n                 style={{ height: \"100%\", width: \"100%\" }}\r\n             >\r\n-                {/* Virtual Background Image */}\r\n                 <ImageOverlay\r\n                     url={virtualMapUrl}\r\n-                    bounds={roomBounds}\r\n-                    zIndex={10}\r\n+                    bounds={roomBounds} // Fixed: LatLngBoundsLiteral\r\n                 />\r\n \r\n                 <CameraFollow position={playerPosition} />\r\n \r\n-                <Marker position={playerPosition} icon={playerIcon} />\r\n-                \r\n-                {/* á€¥á€•á€™á€¬ Pokemon - á€¡á€á€”á€ºá€¸á€¡á€…á€½á€”á€ºá€¸á€”á€¬á€¸á€™á€¾á€¬ á€‘á€¬á€¸á€€á€¼á€Šá€·á€ºá€™á€šá€º */}\r\n-                <Marker position={[16.84034, 96.17354]} icon={playerIcon} />\r\n+                <Marker \r\n+                    position={playerPosition} // Fixed: LatLngTuple from state\r\n+                    icon={playerIcon} \r\n+                />\r\n             </MapContainer>\r\n         </div>\r\n     );\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768969066089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,76 +1,45 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, Marker, useMap } from 'react-leaflet';\r\n import L, { LatLngTuple, LatLngBoundsLiteral } from 'leaflet';\r\n import 'leaflet/dist/leaflet.css';\r\n-import { useEffect, useState, useMemo } from 'react';\r\n+import { useEffect, useState } from 'react';\r\n \r\n-// Marker Icon Fix\r\n const playerIcon = new L.Icon({\r\n     iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n     iconSize: [40, 40],\r\n     iconAnchor: [20, 40],\r\n });\r\n \r\n-// Map Camera Follow Logic\r\n-function CameraFollow({ position }: { position: LatLngTuple }) {\r\n-    const map = useMap();\r\n-    useEffect(() => {\r\n-        map.setView(position, map.getZoom(), { animate: true });\r\n-    }, [position, map]);\r\n-    return null;\r\n-}\r\n-\r\n export default function GameMap() {\r\n-    // 1. Center á€€á€­á€¯ LatLngTuple á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€•á€«\r\n-    const initialCenter: LatLngTuple = [16.8403, 96.1735];\r\n-    \r\n-    // 2. Bounds á€€á€­á€¯ LatLngBoundsLiteral á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€•á€«\r\n-    const roomBounds: LatLngBoundsLiteral = useMemo(() => [\r\n-        [16.84025, 96.17345], \r\n-        [16.84035, 96.17355]\r\n-    ], []);\r\n+    // á€•á€¯á€¶á€›á€²á€· á€¡á€€á€»á€šá€ºá€”á€²á€· á€¡á€™á€¼á€„á€·á€º (á€¥á€•á€™á€¬ áá€á€á€ x áá€á€á€ size)\r\n+    // á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€€á€º coordinate space á€á€…á€ºá€á€¯ á€á€á€ºá€™á€¾á€á€ºá€á€¼á€„á€ºá€¸\r\n+    const bounds: LatLngBoundsLiteral = [[0, 0], [1000, 1000]]; \r\n+    const center: LatLngTuple = [500, 500]; // á€•á€¯á€¶á€›á€²á€· á€¡á€œá€šá€ºá€á€Šá€·á€ºá€á€Šá€·á€º\r\n \r\n-    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>(initialCenter);\r\n+    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>(center);\r\n \r\n-    useEffect(() => {\r\n-        if (typeof window !== \"undefined\" && navigator.geolocation) {\r\n-            const watchId = navigator.geolocation.watchPosition(\r\n-                (pos) => {\r\n-                    const { latitude, longitude } = pos.coords;\r\n-                    // value á€á€½á€±á€€á€­á€¯ tuple type á€¡á€–á€¼á€…á€º cast á€œá€¯á€•á€ºá€•á€±á€¸á€•á€«\r\n-                    setPlayerPosition([latitude, longitude] as LatLngTuple);\r\n-                },\r\n-                (err) => console.error(err),\r\n-                { enableHighAccuracy: true }\r\n-            );\r\n-            return () => navigator.geolocation.clearWatch(watchId);\r\n-        }\r\n-    }, []);\r\n-\r\n     const virtualMapUrl = \"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\";\r\n \r\n     return (\r\n-        <div style={{ height: \"100vh\", width: \"100vw\" }}>\r\n+        <div style={{ height: \"100vh\", width: \"100vw\", background: \"#222\" }}>\r\n             <MapContainer\r\n-                center={initialCenter} // Fixed: LatLngTuple\r\n-                zoom={21}\r\n-                scrollWheelZoom={false}\r\n-                dragging={false}\r\n-                zoomControl={false}\r\n+                crs={L.CRS.Simple} // ğŸ‘ˆ á€’á€«á€€ á€¡á€›á€±á€¸á€€á€¼á€®á€¸á€†á€¯á€¶á€¸á€•á€«á‹ Pixel-based coordinate á€á€¯á€¶á€¸á€–á€­á€¯á€· á€•á€¼á€±á€¬á€á€¬á€•á€«\r\n+                bounds={bounds}\r\n+                center={center}\r\n+                zoom={0}\r\n+                minZoom={-2}\r\n+                maxZoom={2}\r\n                 style={{ height: \"100%\", width: \"100%\" }}\r\n             >\r\n+                {/* Virtual Background Image */}\r\n                 <ImageOverlay\r\n                     url={virtualMapUrl}\r\n-                    bounds={roomBounds} // Fixed: LatLngBoundsLiteral\r\n+                    bounds={bounds}\r\n                 />\r\n \r\n-                <CameraFollow position={playerPosition} />\r\n-\r\n-                <Marker \r\n-                    position={playerPosition} // Fixed: LatLngTuple from state\r\n-                    icon={playerIcon} \r\n-                />\r\n+                {/* Player Marker */}\r\n+                <Marker position={playerPosition} icon={playerIcon} />\r\n             </MapContainer>\r\n         </div>\r\n     );\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1768969191195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,42 +3,83 @@\n import L, { LatLngTuple, LatLngBoundsLiteral } from 'leaflet';\r\n import 'leaflet/dist/leaflet.css';\r\n import { useEffect, useState } from 'react';\r\n \r\n+// Marker Icon Fix\r\n const playerIcon = new L.Icon({\r\n     iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n     iconSize: [40, 40],\r\n     iconAnchor: [20, 40],\r\n });\r\n \r\n+// Map á€€á€­á€¯ User á€›á€¾á€­á€á€²á€·á€”á€±á€›á€¬ á€”á€±á€¬á€€á€ºá€€á€”á€± Camera á€œá€­á€¯á€€á€ºá€á€œá€­á€¯ á€œá€¯á€•á€ºá€•á€±á€¸á€™á€šá€·á€º Component\r\n+function CameraFollow({ position }: { position: LatLngTuple }) {\r\n+    const map = useMap();\r\n+    useEffect(() => {\r\n+        // animate: true á€œá€¯á€•á€ºá€‘á€¬á€¸á€›á€„á€º á€œá€™á€ºá€¸á€œá€»á€¾á€±á€¬á€€á€ºá€á€¬á€”á€²á€·á€¡á€™á€»á€¾ Map á€€ Smooth á€œá€­á€¯á€€á€ºá€›á€½á€±á€·á€”á€±á€™á€šá€º\r\n+        map.setView(position, map.getZoom(), { animate: true });\r\n+    }, [position, map]);\r\n+    return null;\r\n+}\r\n+\r\n export default function GameMap() {\r\n-    // á€•á€¯á€¶á€›á€²á€· á€¡á€€á€»á€šá€ºá€”á€²á€· á€¡á€™á€¼á€„á€·á€º (á€¥á€•á€™á€¬ áá€á€á€ x áá€á€á€ size)\r\n-    // á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€€á€º coordinate space á€á€…á€ºá€á€¯ á€á€á€ºá€™á€¾á€á€ºá€á€¼á€„á€ºá€¸\r\n-    const bounds: LatLngBoundsLiteral = [[0, 0], [1000, 1000]]; \r\n-    const center: LatLngTuple = [500, 500]; // á€•á€¯á€¶á€›á€²á€· á€¡á€œá€šá€ºá€á€Šá€·á€ºá€á€Šá€·á€º\r\n+    // áá‹ á€¡á€•á€¼á€„á€ºá€€ Room á€›á€²á€· á€¡á€…á€½á€”á€ºá€¸ á‚ á€–á€€á€º (á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€º á€á€”á€·á€ºá€™á€¾á€”á€ºá€¸á€á€¼á€±)\r\n+    const realWorldBounds = {\r\n+        minLat: 16.84025,\r\n+        maxLat: 16.84035,\r\n+        minLng: 96.17345,\r\n+        maxLng: 96.17355\r\n+    };\r\n \r\n-    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>(center);\r\n+    // á‚á‹ Virtual Map á€›á€²á€· Pixel Bounds (0 to 1000)\r\n+    const virtualBounds: LatLngBoundsLiteral = [[0, 0], [1000, 1000]];\r\n+    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>([500, 500]);\r\n \r\n+    // áƒá‹ GPS Latitude/Longitude á€€á€­á€¯ Virtual Pixels á€¡á€–á€¼á€…á€º á€•á€¼á€±á€¬á€„á€ºá€¸á€á€²á€· Function\r\n+    const mapRange = (val: number, inMin: number, inMax: number, outMin: number, outMax: number) => {\r\n+        return (val - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\r\n+    };\r\n+\r\n+    useEffect(() => {\r\n+        if (typeof window !== \"undefined\" && navigator.geolocation) {\r\n+            const watchId = navigator.geolocation.watchPosition(\r\n+                (pos) => {\r\n+                    const { latitude, longitude } = pos.coords;\r\n+\r\n+                    // Real world GPS á€€á€­á€¯ Virtual Pixel (0-1000) á€‘á€² á€›á€±á€¬á€€á€ºá€¡á€±á€¬á€„á€º á€á€½á€€á€ºá€‘á€¯á€á€ºá€á€¼á€„á€ºá€¸\r\n+                    const x = mapRange(longitude, realWorldBounds.minLng, realWorldBounds.maxLng, 0, 1000);\r\n+                    const y = mapRange(latitude, realWorldBounds.minLat, realWorldBounds.maxLat, 0, 1000);\r\n+\r\n+                    // Marker á€€á€­á€¯ Update á€œá€¯á€•á€ºá€™á€šá€º (á€’á€«á€†á€­á€¯á€›á€„á€º Map á€›á€±á€¬ Marker á€›á€±á€¬ á€¡á€œá€šá€ºá€™á€¾á€¬á€•á€² á€›á€¾á€­á€”á€±á€™á€šá€º)\r\n+                    setPlayerPosition([y, x] as LatLngTuple);\r\n+                },\r\n+                (err) => console.error(err),\r\n+                { enableHighAccuracy: true, maximumAge: 0 }\r\n+            );\r\n+            return () => navigator.geolocation.clearWatch(watchId);\r\n+        }\r\n+    }, []);\r\n+\r\n     const virtualMapUrl = \"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\";\r\n \r\n     return (\r\n-        <div style={{ height: \"100vh\", width: \"100vw\", background: \"#222\" }}>\r\n+        <div style={{ height: \"100vh\", width: \"100vw\", overflow: \"hidden\" }}>\r\n             <MapContainer\r\n-                crs={L.CRS.Simple} // ğŸ‘ˆ á€’á€«á€€ á€¡á€›á€±á€¸á€€á€¼á€®á€¸á€†á€¯á€¶á€¸á€•á€«á‹ Pixel-based coordinate á€á€¯á€¶á€¸á€–á€­á€¯á€· á€•á€¼á€±á€¬á€á€¬á€•á€«\r\n-                bounds={bounds}\r\n-                center={center}\r\n-                zoom={0}\r\n-                minZoom={-2}\r\n-                maxZoom={2}\r\n+                crs={L.CRS.Simple}\r\n+                bounds={virtualBounds}\r\n+                center={playerPosition}\r\n+                zoom={1} // Zoom level á€€á€­á€¯ á€€á€­á€¯á€šá€·á€ºá€•á€¯á€¶á€”á€²á€· á€¡á€†á€„á€ºá€•á€¼á€±á€¡á€±á€¬á€„á€º á€á€»á€­á€”á€ºá€•á€«\r\n+                dragging={false} // User á€€ á€œá€€á€ºá€”á€²á€· Map á€†á€½á€²á€œá€­á€¯á€·á€™á€›á€¡á€±á€¬á€„á€º á€•á€­á€á€ºá€‘á€¬á€¸á€™á€šá€º\r\n+                zoomControl={false}\r\n                 style={{ height: \"100%\", width: \"100%\" }}\r\n             >\r\n-                {/* Virtual Background Image */}\r\n-                <ImageOverlay\r\n-                    url={virtualMapUrl}\r\n-                    bounds={bounds}\r\n-                />\r\n+                {/* Virtual Map Background */}\r\n+                <ImageOverlay url={virtualMapUrl} bounds={virtualBounds} />\r\n \r\n-                {/* Player Marker */}\r\n+                {/* Camera Follow Logic */}\r\n+                <CameraFollow position={playerPosition} />\r\n+\r\n+                {/* Player Marker (á€¡á€™á€¼á€²á€á€™á€ºá€¸ Screen Center á€™á€¾á€¬ á€›á€¾á€­á€”á€±á€™á€šá€º) */}\r\n                 <Marker position={playerPosition} icon={playerIcon} />\r\n             </MapContainer>\r\n         </div>\r\n     );\r\n"
                },
                {
                    "date": 1768969235044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,85 +1,80 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, Marker, useMap } from 'react-leaflet';\r\n import L, { LatLngTuple, LatLngBoundsLiteral } from 'leaflet';\r\n import 'leaflet/dist/leaflet.css';\r\n-import { useEffect, useState } from 'react';\r\n+import { useEffect, useState, useMemo } from 'react';\r\n \r\n-// Marker Icon Fix\r\n const playerIcon = new L.Icon({\r\n     iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n     iconSize: [40, 40],\r\n     iconAnchor: [20, 40],\r\n });\r\n \r\n-// Map á€€á€­á€¯ User á€›á€¾á€­á€á€²á€·á€”á€±á€›á€¬ á€”á€±á€¬á€€á€ºá€€á€”á€± Camera á€œá€­á€¯á€€á€ºá€á€œá€­á€¯ á€œá€¯á€•á€ºá€•á€±á€¸á€™á€šá€·á€º Component\r\n function CameraFollow({ position }: { position: LatLngTuple }) {\r\n     const map = useMap();\r\n     useEffect(() => {\r\n-        // animate: true á€œá€¯á€•á€ºá€‘á€¬á€¸á€›á€„á€º á€œá€™á€ºá€¸á€œá€»á€¾á€±á€¬á€€á€ºá€á€¬á€”á€²á€·á€¡á€™á€»á€¾ Map á€€ Smooth á€œá€­á€¯á€€á€ºá€›á€½á€±á€·á€”á€±á€™á€šá€º\r\n         map.setView(position, map.getZoom(), { animate: true });\r\n     }, [position, map]);\r\n     return null;\r\n }\r\n \r\n export default function GameMap() {\r\n-    // áá‹ á€¡á€•á€¼á€„á€ºá€€ Room á€›á€²á€· á€¡á€…á€½á€”á€ºá€¸ á‚ á€–á€€á€º (á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€º á€á€”á€·á€ºá€™á€¾á€”á€ºá€¸á€á€¼á€±)\r\n-    const realWorldBounds = {\r\n+    // áá‹ á€á€„á€·á€ºá€›á€²á€· á€¡á€á€”á€ºá€¸á€á€Šá€ºá€”á€±á€›á€¬ GPS á€¡á€™á€¾á€”á€ºá€€á€­á€¯ á€’á€®á€™á€¾á€¬ á€¡á€›á€„á€ºá€…á€…á€ºá€•á€¼á€®á€¸ á€‘á€Šá€·á€ºá€•á€±á€¸á€•á€« (á€¥á€•á€™á€¬ Google Maps á€€á€”á€± á€šá€°á€•á€«)\r\n+    const realWorldBounds = useMemo(() => ({\r\n         minLat: 16.84025,\r\n         maxLat: 16.84035,\r\n         minLng: 96.17345,\r\n         maxLng: 96.17355\r\n-    };\r\n+    }), []);\r\n \r\n-    // á‚á‹ Virtual Map á€›á€²á€· Pixel Bounds (0 to 1000)\r\n     const virtualBounds: LatLngBoundsLiteral = [[0, 0], [1000, 1000]];\r\n     const [playerPosition, setPlayerPosition] = useState<LatLngTuple>([500, 500]);\r\n \r\n-    // áƒá‹ GPS Latitude/Longitude á€€á€­á€¯ Virtual Pixels á€¡á€–á€¼á€…á€º á€•á€¼á€±á€¬á€„á€ºá€¸á€á€²á€· Function\r\n+    // Value á€€á€­á€¯ 0 á€”á€²á€· 1000 á€€á€¼á€¬á€¸á€™á€¾á€¬á€•á€² á€›á€¾á€­á€”á€±á€¡á€±á€¬á€„á€º á€€á€”á€·á€ºá€á€á€ºá€á€¼á€„á€ºá€¸\r\n+    const clamp = (val: number, min: number, max: number) => Math.min(Math.max(val, min), max);\r\n+\r\n     const mapRange = (val: number, inMin: number, inMax: number, outMin: number, outMax: number) => {\r\n-        return (val - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\r\n+        const result = (val - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\r\n+        return clamp(result, outMin, outMax); // á€•á€¯á€¶á€›á€²á€· á€¡á€•á€¼á€„á€ºá€˜á€€á€º á€›á€±á€¬á€€á€ºá€™á€á€½á€¬á€¸á€¡á€±á€¬á€„á€º á€á€¬á€¸á€œá€­á€¯á€€á€ºá€á€¬á€•á€«\r\n     };\r\n \r\n     useEffect(() => {\r\n         if (typeof window !== \"undefined\" && navigator.geolocation) {\r\n             const watchId = navigator.geolocation.watchPosition(\r\n                 (pos) => {\r\n                     const { latitude, longitude } = pos.coords;\r\n \r\n-                    // Real world GPS á€€á€­á€¯ Virtual Pixel (0-1000) á€‘á€² á€›á€±á€¬á€€á€ºá€¡á€±á€¬á€„á€º á€á€½á€€á€ºá€‘á€¯á€á€ºá€á€¼á€„á€ºá€¸\r\n                     const x = mapRange(longitude, realWorldBounds.minLng, realWorldBounds.maxLng, 0, 1000);\r\n                     const y = mapRange(latitude, realWorldBounds.minLat, realWorldBounds.maxLat, 0, 1000);\r\n \r\n-                    // Marker á€€á€­á€¯ Update á€œá€¯á€•á€ºá€™á€šá€º (á€’á€«á€†á€­á€¯á€›á€„á€º Map á€›á€±á€¬ Marker á€›á€±á€¬ á€¡á€œá€šá€ºá€™á€¾á€¬á€•á€² á€›á€¾á€­á€”á€±á€™á€šá€º)\r\n                     setPlayerPosition([y, x] as LatLngTuple);\r\n                 },\r\n-                (err) => console.error(err),\r\n-                { enableHighAccuracy: true, maximumAge: 0 }\r\n+                (err) => console.error(\"GPS Error:\", err),\r\n+                { enableHighAccuracy: true, maximumAge: 0, timeout: 5000 }\r\n             );\r\n             return () => navigator.geolocation.clearWatch(watchId);\r\n         }\r\n-    }, []);\r\n+    }, [realWorldBounds]);\r\n \r\n+    // Image URL á€¡á€œá€¯á€•á€ºá€œá€¯á€•á€ºá€™á€œá€¯á€•á€º á€…á€…á€ºá€›á€”á€º (CORS issues á€€á€¼á€±á€¬á€„á€·á€º á€¡á€™á€²á€–á€¼á€…á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€Šá€º)\r\n+    // á€€á€­á€¯á€šá€·á€º project á€›á€²á€· public folder á€‘á€²á€™á€¾á€¬ á€•á€¯á€¶á€‘á€Šá€·á€ºá€‘á€¬á€¸á€•á€¼á€®á€¸ \"/my-room.jpg\" á€œá€­á€¯á€· á€á€¯á€¶á€¸á€á€¬ á€•á€­á€¯á€…á€­á€á€ºá€á€»á€›á€•á€«á€á€šá€º\r\n     const virtualMapUrl = \"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\";\r\n \r\n     return (\r\n-        <div style={{ height: \"100vh\", width: \"100vw\", overflow: \"hidden\" }}>\r\n+        <div style={{ height: \"100vh\", width: \"100vw\", background: \"black\" }}>\r\n             <MapContainer\r\n                 crs={L.CRS.Simple}\r\n-                bounds={virtualBounds}\r\n                 center={playerPosition}\r\n-                zoom={1} // Zoom level á€€á€­á€¯ á€€á€­á€¯á€šá€·á€ºá€•á€¯á€¶á€”á€²á€· á€¡á€†á€„á€ºá€•á€¼á€±á€¡á€±á€¬á€„á€º á€á€»á€­á€”á€ºá€•á€«\r\n-                dragging={false} // User á€€ á€œá€€á€ºá€”á€²á€· Map á€†á€½á€²á€œá€­á€¯á€·á€™á€›á€¡á€±á€¬á€„á€º á€•á€­á€á€ºá€‘á€¬á€¸á€™á€šá€º\r\n+                zoom={1}\r\n+                minZoom={0}\r\n+                maxZoom={3}\r\n+                dragging={false}\r\n                 zoomControl={false}\r\n                 style={{ height: \"100%\", width: \"100%\" }}\r\n             >\r\n-                {/* Virtual Map Background */}\r\n                 <ImageOverlay url={virtualMapUrl} bounds={virtualBounds} />\r\n-\r\n-                {/* Camera Follow Logic */}\r\n                 <CameraFollow position={playerPosition} />\r\n-\r\n-                {/* Player Marker (á€¡á€™á€¼á€²á€á€™á€ºá€¸ Screen Center á€™á€¾á€¬ á€›á€¾á€­á€”á€±á€™á€šá€º) */}\r\n                 <Marker position={playerPosition} icon={playerIcon} />\r\n             </MapContainer>\r\n         </div>\r\n     );\r\n"
                },
                {
                    "date": 1768969263648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,80 +1,44 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, Marker, useMap } from 'react-leaflet';\r\n import L, { LatLngTuple, LatLngBoundsLiteral } from 'leaflet';\r\n import 'leaflet/dist/leaflet.css';\r\n-import { useEffect, useState, useMemo } from 'react';\r\n+import { useEffect, useState } from 'react';\r\n \r\n const playerIcon = new L.Icon({\r\n     iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n     iconSize: [40, 40],\r\n     iconAnchor: [20, 40],\r\n });\r\n \r\n-function CameraFollow({ position }: { position: LatLngTuple }) {\r\n-    const map = useMap();\r\n-    useEffect(() => {\r\n-        map.setView(position, map.getZoom(), { animate: true });\r\n-    }, [position, map]);\r\n-    return null;\r\n-}\r\n-\r\n export default function GameMap() {\r\n-    // áá‹ á€á€„á€·á€ºá€›á€²á€· á€¡á€á€”á€ºá€¸á€á€Šá€ºá€”á€±á€›á€¬ GPS á€¡á€™á€¾á€”á€ºá€€á€­á€¯ á€’á€®á€™á€¾á€¬ á€¡á€›á€„á€ºá€…á€…á€ºá€•á€¼á€®á€¸ á€‘á€Šá€·á€ºá€•á€±á€¸á€•á€« (á€¥á€•á€™á€¬ Google Maps á€€á€”á€± á€šá€°á€•á€«)\r\n-    const realWorldBounds = useMemo(() => ({\r\n-        minLat: 16.84025,\r\n-        maxLat: 16.84035,\r\n-        minLng: 96.17345,\r\n-        maxLng: 96.17355\r\n-    }), []);\r\n+    // á€•á€¯á€¶á€›á€²á€· á€¡á€€á€»á€šá€ºá€”á€²á€· á€¡á€™á€¼á€„á€·á€º (á€¥á€•á€™á€¬ áá€á€á€ x áá€á€á€ size)\r\n+    // á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€€á€º coordinate space á€á€…á€ºá€á€¯ á€á€á€ºá€™á€¾á€á€ºá€á€¼á€„á€ºá€¸\r\n+    const bounds: LatLngBoundsLiteral = [[0, 0], [1000, 1000]]; \r\n+    const center: LatLngTuple = [500, 500]; // á€•á€¯á€¶á€›á€²á€· á€¡á€œá€šá€ºá€á€Šá€·á€ºá€á€Šá€·á€º\r\n \r\n-    const virtualBounds: LatLngBoundsLiteral = [[0, 0], [1000, 1000]];\r\n-    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>([500, 500]);\r\n+    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>(center);\r\n \r\n-    // Value á€€á€­á€¯ 0 á€”á€²á€· 1000 á€€á€¼á€¬á€¸á€™á€¾á€¬á€•á€² á€›á€¾á€­á€”á€±á€¡á€±á€¬á€„á€º á€€á€”á€·á€ºá€á€á€ºá€á€¼á€„á€ºá€¸\r\n-    const clamp = (val: number, min: number, max: number) => Math.min(Math.max(val, min), max);\r\n-\r\n-    const mapRange = (val: number, inMin: number, inMax: number, outMin: number, outMax: number) => {\r\n-        const result = (val - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\r\n-        return clamp(result, outMin, outMax); // á€•á€¯á€¶á€›á€²á€· á€¡á€•á€¼á€„á€ºá€˜á€€á€º á€›á€±á€¬á€€á€ºá€™á€á€½á€¬á€¸á€¡á€±á€¬á€„á€º á€á€¬á€¸á€œá€­á€¯á€€á€ºá€á€¬á€•á€«\r\n-    };\r\n-\r\n-    useEffect(() => {\r\n-        if (typeof window !== \"undefined\" && navigator.geolocation) {\r\n-            const watchId = navigator.geolocation.watchPosition(\r\n-                (pos) => {\r\n-                    const { latitude, longitude } = pos.coords;\r\n-\r\n-                    const x = mapRange(longitude, realWorldBounds.minLng, realWorldBounds.maxLng, 0, 1000);\r\n-                    const y = mapRange(latitude, realWorldBounds.minLat, realWorldBounds.maxLat, 0, 1000);\r\n-\r\n-                    setPlayerPosition([y, x] as LatLngTuple);\r\n-                },\r\n-                (err) => console.error(\"GPS Error:\", err),\r\n-                { enableHighAccuracy: true, maximumAge: 0, timeout: 5000 }\r\n-            );\r\n-            return () => navigator.geolocation.clearWatch(watchId);\r\n-        }\r\n-    }, [realWorldBounds]);\r\n-\r\n-    // Image URL á€¡á€œá€¯á€•á€ºá€œá€¯á€•á€ºá€™á€œá€¯á€•á€º á€…á€…á€ºá€›á€”á€º (CORS issues á€€á€¼á€±á€¬á€„á€·á€º á€¡á€™á€²á€–á€¼á€…á€ºá€”á€­á€¯á€„á€ºá€•á€«á€á€Šá€º)\r\n-    // á€€á€­á€¯á€šá€·á€º project á€›á€²á€· public folder á€‘á€²á€™á€¾á€¬ á€•á€¯á€¶á€‘á€Šá€·á€ºá€‘á€¬á€¸á€•á€¼á€®á€¸ \"/my-room.jpg\" á€œá€­á€¯á€· á€á€¯á€¶á€¸á€á€¬ á€•á€­á€¯á€…á€­á€á€ºá€á€»á€›á€•á€«á€á€šá€º\r\n     const virtualMapUrl = \"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\";\r\n \r\n     return (\r\n-        <div style={{ height: \"100vh\", width: \"100vw\", background: \"black\" }}>\r\n+        <div style={{ height: \"100vh\", width: \"100vw\", background: \"#222\" }}>\r\n             <MapContainer\r\n-                crs={L.CRS.Simple}\r\n-                center={playerPosition}\r\n-                zoom={1}\r\n-                minZoom={0}\r\n-                maxZoom={3}\r\n-                dragging={false}\r\n-                zoomControl={false}\r\n+                crs={L.CRS.Simple} // ğŸ‘ˆ á€’á€«á€€ á€¡á€›á€±á€¸á€€á€¼á€®á€¸á€†á€¯á€¶á€¸á€•á€«á‹ Pixel-based coordinate á€á€¯á€¶á€¸á€–á€­á€¯á€· á€•á€¼á€±á€¬á€á€¬á€•á€«\r\n+                bounds={bounds}\r\n+                center={center}\r\n+                zoom={0}\r\n+                minZoom={-2}\r\n+                maxZoom={2}\r\n                 style={{ height: \"100%\", width: \"100%\" }}\r\n             >\r\n-                <ImageOverlay url={virtualMapUrl} bounds={virtualBounds} />\r\n-                <CameraFollow position={playerPosition} />\r\n+                {/* Virtual Background Image */}\r\n+                <ImageOverlay\r\n+                    url={virtualMapUrl}\r\n+                    bounds={bounds}\r\n+                />\r\n+\r\n+                {/* Player Marker */}\r\n                 <Marker position={playerPosition} icon={playerIcon} />\r\n             </MapContainer>\r\n         </div>\r\n     );\r\n"
                },
                {
                    "date": 1768969306777,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,44 +1,92 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, Marker, useMap } from 'react-leaflet';\r\n import L, { LatLngTuple, LatLngBoundsLiteral } from 'leaflet';\r\n import 'leaflet/dist/leaflet.css';\r\n-import { useEffect, useState } from 'react';\r\n+import { useEffect, useState, useMemo } from 'react';\r\n \r\n+// Marker Icon Fix\r\n const playerIcon = new L.Icon({\r\n     iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n     iconSize: [40, 40],\r\n     iconAnchor: [20, 40],\r\n });\r\n \r\n+// Map á€€á€­á€¯ Player á€›á€²á€· Position á€”á€±á€¬á€€á€ºá€€á€”á€± á€¡á€™á€¼á€²á€œá€­á€¯á€€á€ºá€•á€±á€¸á€™á€šá€·á€º Component\r\n+function CameraFollow({ position }: { position: LatLngTuple }) {\r\n+    const map = useMap();\r\n+    useEffect(() => {\r\n+        // animate: true á€€ á€œá€™á€ºá€¸á€œá€»á€¾á€±á€¬á€€á€ºá€›á€„á€º map á€›á€½á€±á€·á€á€¬á€€á€­á€¯ smooth á€–á€¼á€…á€ºá€…á€±á€á€šá€º\r\n+        map.setView(position, map.getZoom(), { animate: true });\r\n+    }, [position, map]);\r\n+    return null;\r\n+}\r\n+\r\n export default function GameMap() {\r\n-    // á€•á€¯á€¶á€›á€²á€· á€¡á€€á€»á€šá€ºá€”á€²á€· á€¡á€™á€¼á€„á€·á€º (á€¥á€•á€™á€¬ áá€á€á€ x áá€á€á€ size)\r\n-    // á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€ºá€¡á€á€½á€€á€º coordinate space á€á€…á€ºá€á€¯ á€á€á€ºá€™á€¾á€á€ºá€á€¼á€„á€ºá€¸\r\n-    const bounds: LatLngBoundsLiteral = [[0, 0], [1000, 1000]]; \r\n-    const center: LatLngTuple = [500, 500]; // á€•á€¯á€¶á€›á€²á€· á€¡á€œá€šá€ºá€á€Šá€·á€ºá€á€Šá€·á€º\r\n+    // áá‹ á€¡á€•á€¼á€„á€ºá€€ á€¡á€á€”á€ºá€¸á€›á€²á€· GPS boundary (á€á€„á€·á€ºá€¡á€á€”á€ºá€¸á€›á€²á€· coordinates á€¡á€™á€¾á€”á€ºá€€á€­á€¯ á€’á€®á€™á€¾á€¬á€‘á€Šá€·á€ºá€•á€«)\r\n+    // á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€ºá€†á€­á€¯á€›á€„á€º decimal á… á€”á€±á€›á€¬á€œá€±á€¬á€€á€ºá€•á€² á€á€¼á€¬á€¸á€”á€¬á€¸á€•á€«á€œá€­á€™á€·á€ºá€™á€šá€º\r\n+    const realWorldBounds = useMemo(() => ({\r\n+        minLat: 16.84025,\r\n+        maxLat: 16.84035,\r\n+        minLng: 96.17345,\r\n+        maxLng: 96.17355\r\n+    }), []);\r\n \r\n-    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>(center);\r\n+    // á‚á‹ Virtual Map á€›á€²á€· Pixel Bounds (0 to 1000)\r\n+    const virtualBounds: LatLngBoundsLiteral = [[0, 0], [1000, 1000]];\r\n+    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>([500, 500]);\r\n \r\n+    // áƒá‹ GPS value á€€á€­á€¯ 0-1000 pixel á€¡á€á€½á€„á€ºá€¸á€‘á€²á€›á€±á€¬á€€á€ºá€¡á€±á€¬á€„á€º á€á€½á€€á€ºá€á€»á€€á€ºá€á€¼á€„á€ºá€¸\r\n+    const mapRange = (val: number, inMin: number, inMax: number, outMin: number, outMax: number) => {\r\n+        const result = (val - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\r\n+        // á€•á€¯á€¶á€›á€²á€·á€¡á€•á€¼á€„á€ºá€˜á€€á€ºá€›á€±á€¬á€€á€ºá€™á€á€½á€¬á€¸á€¡á€±á€¬á€„á€º clamp á€œá€¯á€•á€ºá€‘á€¬á€¸á€™á€šá€º\r\n+        return Math.min(Math.max(result, outMin), outMax);\r\n+    };\r\n+\r\n+    useEffect(() => {\r\n+        if (typeof window !== \"undefined\" && navigator.geolocation) {\r\n+            const watchId = navigator.geolocation.watchPosition(\r\n+                (pos) => {\r\n+                    const { latitude, longitude } = pos.coords;\r\n+\r\n+                    // Real GPS coordinates á€€á€­á€¯ Virtual Pixels á€¡á€–á€¼á€…á€ºá€•á€¼á€±á€¬á€„á€ºá€¸á€œá€²á€á€¼á€„á€ºá€¸\r\n+                    const y = mapRange(latitude, realWorldBounds.minLat, realWorldBounds.maxLat, 0, 1000);\r\n+                    const x = mapRange(longitude, realWorldBounds.minLng, realWorldBounds.maxLng, 0, 1000);\r\n+\r\n+                    setPlayerPosition([y, x] as LatLngTuple);\r\n+                },\r\n+                (err) => console.error(\"GPS Error:\", err),\r\n+                { \r\n+                    enableHighAccuracy: true, // á€•á€­á€¯á€á€­á€€á€»á€–á€­á€¯á€· á€œá€­á€¯á€¡á€•á€ºá€á€šá€º\r\n+                    maximumAge: 0, \r\n+                    timeout: 5000 \r\n+                }\r\n+            );\r\n+            return () => navigator.geolocation.clearWatch(watchId);\r\n+        }\r\n+    }, [realWorldBounds]);\r\n+\r\n     const virtualMapUrl = \"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\";\r\n \r\n     return (\r\n-        <div style={{ height: \"100vh\", width: \"100vw\", background: \"#222\" }}>\r\n+        <div style={{ height: \"100vh\", width: \"100vw\", background: \"black\" }}>\r\n             <MapContainer\r\n-                crs={L.CRS.Simple} // ğŸ‘ˆ á€’á€«á€€ á€¡á€›á€±á€¸á€€á€¼á€®á€¸á€†á€¯á€¶á€¸á€•á€«á‹ Pixel-based coordinate á€á€¯á€¶á€¸á€–á€­á€¯á€· á€•á€¼á€±á€¬á€á€¬á€•á€«\r\n-                bounds={bounds}\r\n-                center={center}\r\n-                zoom={0}\r\n-                minZoom={-2}\r\n-                maxZoom={2}\r\n+                crs={L.CRS.Simple}\r\n+                center={playerPosition}\r\n+                zoom={1}\r\n+                minZoom={0}\r\n+                maxZoom={3}\r\n+                dragging={false} // Map á€€á€­á€¯ á€œá€€á€ºá€”á€²á€·á€›á€½á€¾á€±á€·á€œá€­á€¯á€·á€™á€›á€¡á€±á€¬á€„á€º á€•á€­á€á€ºá€‘á€¬á€¸á€™á€šá€º\r\n+                zoomControl={false}\r\n                 style={{ height: \"100%\", width: \"100%\" }}\r\n             >\r\n-                {/* Virtual Background Image */}\r\n-                <ImageOverlay\r\n-                    url={virtualMapUrl}\r\n-                    bounds={bounds}\r\n-                />\r\n+                {/* Virtual Map Background */}\r\n+                <ImageOverlay url={virtualMapUrl} bounds={virtualBounds} />\r\n \r\n-                {/* Player Marker */}\r\n+                {/* Camera Follow Logic (á€’á€«á€€ Map á€€á€­á€¯ á€œá€­á€¯á€€á€ºá€›á€½á€±á€·á€…á€±á€á€¬á€•á€«) */}\r\n+                <CameraFollow position={playerPosition} />\r\n+\r\n+                {/* Player Marker (á€¡á€™á€¼á€²á€á€™á€ºá€¸ Screen Center á€™á€¾á€¬ á€›á€¾á€­á€”á€±á€™á€šá€º) */}\r\n                 <Marker position={playerPosition} icon={playerIcon} />\r\n             </MapContainer>\r\n         </div>\r\n     );\r\n"
                },
                {
                    "date": 1768969370442,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,93 +1,89 @@\n \"use client\";\r\n-import { MapContainer, ImageOverlay, Marker, useMap } from 'react-leaflet';\r\n-import L, { LatLngTuple, LatLngBoundsLiteral } from 'leaflet';\r\n-import 'leaflet/dist/leaflet.css';\r\n-import { useEffect, useState, useMemo } from 'react';\r\n+import { MapContainer, ImageOverlay, Marker, useMap } from \"react-leaflet\";\r\n+import L from \"leaflet\";\r\n+import \"leaflet/dist/leaflet.css\";\r\n+import { useEffect, useState } from \"react\";\r\n \r\n-// Marker Icon Fix\r\n const playerIcon = new L.Icon({\r\n-    iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n-    iconSize: [40, 40],\r\n-    iconAnchor: [20, 40],\r\n+  iconUrl: \"https://cdn-icons-png.flaticon.com/512/1177/1177568.png\",\r\n+  iconSize: [40, 40],\r\n+  iconAnchor: [20, 40],\r\n });\r\n \r\n-// Map á€€á€­á€¯ Player á€›á€²á€· Position á€”á€±á€¬á€€á€ºá€€á€”á€± á€¡á€™á€¼á€²á€œá€­á€¯á€€á€ºá€•á€±á€¸á€™á€šá€·á€º Component\r\n-function CameraFollow({ position }: { position: LatLngTuple }) {\r\n-    const map = useMap();\r\n-    useEffect(() => {\r\n-        // animate: true á€€ á€œá€™á€ºá€¸á€œá€»á€¾á€±á€¬á€€á€ºá€›á€„á€º map á€›á€½á€±á€·á€á€¬á€€á€­á€¯ smooth á€–á€¼á€…á€ºá€…á€±á€á€šá€º\r\n-        map.setView(position, map.getZoom(), { animate: true });\r\n-    }, [position, map]);\r\n-    return null;\r\n+const bounds: [[number, number], [number, number]] = [\r\n+  [0, 0],\r\n+  [1000, 1000],\r\n+];\r\n+\r\n+const center: [number, number] = [500, 500];\r\n+\r\n+const LAT_TO_UNIT = 100000;\r\n+const LNG_TO_UNIT = 100000;\r\n+\r\n+function gpsToVirtual(lat: number, lng: number): [number, number] {\r\n+  return [\r\n+    center[0] + lat * LAT_TO_UNIT,\r\n+    center[1] + lng * LNG_TO_UNIT,\r\n+  ];\r\n }\r\n \r\n-export default function GameMap() {\r\n-    // áá‹ á€¡á€•á€¼á€„á€ºá€€ á€¡á€á€”á€ºá€¸á€›á€²á€· GPS boundary (á€á€„á€·á€ºá€¡á€á€”á€ºá€¸á€›á€²á€· coordinates á€¡á€™á€¾á€”á€ºá€€á€­á€¯ á€’á€®á€™á€¾á€¬á€‘á€Šá€·á€ºá€•á€«)\r\n-    // á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€ºá€†á€­á€¯á€›á€„á€º decimal á… á€”á€±á€›á€¬á€œá€±á€¬á€€á€ºá€•á€² á€á€¼á€¬á€¸á€”á€¬á€¸á€•á€«á€œá€­á€™á€·á€ºá€™á€šá€º\r\n-    const realWorldBounds = useMemo(() => ({\r\n-        minLat: 16.84025,\r\n-        maxLat: 16.84035,\r\n-        minLng: 96.17345,\r\n-        maxLng: 96.17355\r\n-    }), []);\r\n+function PlayerCamera({ gps }: { gps: GeolocationPosition | null }) {\r\n+  const map = useMap();\r\n \r\n-    // á‚á‹ Virtual Map á€›á€²á€· Pixel Bounds (0 to 1000)\r\n-    const virtualBounds: LatLngBoundsLiteral = [[0, 0], [1000, 1000]];\r\n-    const [playerPosition, setPlayerPosition] = useState<LatLngTuple>([500, 500]);\r\n+  useEffect(() => {\r\n+    if (!gps) return;\r\n \r\n-    // áƒá‹ GPS value á€€á€­á€¯ 0-1000 pixel á€¡á€á€½á€„á€ºá€¸á€‘á€²á€›á€±á€¬á€€á€ºá€¡á€±á€¬á€„á€º á€á€½á€€á€ºá€á€»á€€á€ºá€á€¼á€„á€ºá€¸\r\n-    const mapRange = (val: number, inMin: number, inMax: number, outMin: number, outMax: number) => {\r\n-        const result = (val - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\r\n-        // á€•á€¯á€¶á€›á€²á€·á€¡á€•á€¼á€„á€ºá€˜á€€á€ºá€›á€±á€¬á€€á€ºá€™á€á€½á€¬á€¸á€¡á€±á€¬á€„á€º clamp á€œá€¯á€•á€ºá€‘á€¬á€¸á€™á€šá€º\r\n-        return Math.min(Math.max(result, outMin), outMax);\r\n-    };\r\n+    const { latitude, longitude } = gps.coords;\r\n+    const pos = gpsToVirtual(latitude, longitude);\r\n \r\n-    useEffect(() => {\r\n-        if (typeof window !== \"undefined\" && navigator.geolocation) {\r\n-            const watchId = navigator.geolocation.watchPosition(\r\n-                (pos) => {\r\n-                    const { latitude, longitude } = pos.coords;\r\n+    map.setView(pos, map.getZoom(), {\r\n+      animate: true,\r\n+      duration: 0.5,\r\n+    });\r\n+  }, [gps, map]);\r\n \r\n-                    // Real GPS coordinates á€€á€­á€¯ Virtual Pixels á€¡á€–á€¼á€…á€ºá€•á€¼á€±á€¬á€„á€ºá€¸á€œá€²á€á€¼á€„á€ºá€¸\r\n-                    const y = mapRange(latitude, realWorldBounds.minLat, realWorldBounds.maxLat, 0, 1000);\r\n-                    const x = mapRange(longitude, realWorldBounds.minLng, realWorldBounds.maxLng, 0, 1000);\r\n+  return null;\r\n+}\r\n \r\n-                    setPlayerPosition([y, x] as LatLngTuple);\r\n-                },\r\n-                (err) => console.error(\"GPS Error:\", err),\r\n-                { \r\n\\ No newline at end of file\n-                    enableHighAccuracy: true, // á€•á€­á€¯á€á€­á€€á€»á€–á€­á€¯á€· á€œá€­á€¯á€¡á€•á€ºá€á€šá€º\r\n-                    maximumAge: 0, \r\n-                    timeout: 5000 \r\n-                }\r\n-            );\r\n-            return () => navigator.geolocation.clearWatch(watchId);\r\n-        }\r\n-    }, [realWorldBounds]);\r\n+export default function GameMap() {\r\n+  const [gps, setGps] = useState<GeolocationPosition | null>(null);\r\n \r\n-    const virtualMapUrl = \"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\";\r\n+  useEffect(() => {\r\n+    const watchId = navigator.geolocation.watchPosition(\r\n+      (pos) => setGps(pos),\r\n+      (err) => console.error(err),\r\n+      {\r\n+        enableHighAccuracy: true,\r\n+        maximumAge: 1000,\r\n+        timeout: 10000,\r\n+      }\r\n+    );\r\n \r\n-    return (\r\n-        <div style={{ height: \"100vh\", width: \"100vw\", background: \"black\" }}>\r\n-            <MapContainer\r\n-                crs={L.CRS.Simple}\r\n-                center={playerPosition}\r\n-                zoom={1}\r\n-                minZoom={0}\r\n-                maxZoom={3}\r\n-                dragging={false} // Map á€€á€­á€¯ á€œá€€á€ºá€”á€²á€·á€›á€½á€¾á€±á€·á€œá€­á€¯á€·á€™á€›á€¡á€±á€¬á€„á€º á€•á€­á€á€ºá€‘á€¬á€¸á€™á€šá€º\r\n-                zoomControl={false}\r\n-                style={{ height: \"100%\", width: \"100%\" }}\r\n-            >\r\n-                {/* Virtual Map Background */}\r\n-                <ImageOverlay url={virtualMapUrl} bounds={virtualBounds} />\r\n+    return () => navigator.geolocation.clearWatch(watchId);\r\n+  }, []);\r\n \r\n-                {/* Camera Follow Logic (á€’á€«á€€ Map á€€á€­á€¯ á€œá€­á€¯á€€á€ºá€›á€½á€±á€·á€…á€±á€á€¬á€•á€«) */}\r\n-                <CameraFollow position={playerPosition} />\r\n+  return (\r\n+    <div style={{ height: \"100vh\", width: \"100vw\" }}>\r\n+      <MapContainer\r\n+        crs={L.CRS.Simple}\r\n+        bounds={bounds}\r\n+        center={center}\r\n+        zoom={0}\r\n+        minZoom={-2}\r\n+        maxZoom={2}\r\n+        style={{ height: \"100%\", width: \"100%\" }}\r\n+      >\r\n+        <ImageOverlay\r\n+          url=\"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\"\r\n+          bounds={bounds}\r\n+        />\r\n \r\n-                {/* Player Marker (á€¡á€™á€¼á€²á€á€™á€ºá€¸ Screen Center á€™á€¾á€¬ á€›á€¾á€­á€”á€±á€™á€šá€º) */}\r\n-                <Marker position={playerPosition} icon={playerIcon} />\r\n-            </MapContainer>\r\n-        </div>\r\n-    );\r\n-}\n+        {/* Player stays at center */}\r\n+        <Marker position={center} icon={playerIcon} />\r\n+\r\n+        {/* Camera follows GPS */}\r\n+        <PlayerCamera gps={gps} />\r\n+      </MapContainer>\r\n+    </div>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1768969430192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,16 +64,17 @@\n \r\n   return (\r\n     <div style={{ height: \"100vh\", width: \"100vw\" }}>\r\n       <MapContainer\r\n-        crs={L.CRS.Simple}\r\n-        bounds={bounds}\r\n-        center={center}\r\n-        zoom={0}\r\n-        minZoom={-2}\r\n-        maxZoom={2}\r\n-        style={{ height: \"100%\", width: \"100%\" }}\r\n-      >\r\n+  crs={L.CRS.Simple}\r\n+  bounds={[[0, 0], [1000, 1000]]}\r\n+  center={[500, 500]}\r\n+  zoom={0}\r\n+  minZoom={-2}\r\n+  maxZoom={2}\r\n+  style={{ height: \"100%\", width: \"100%\" }}\r\n+>\r\n+\r\n         <ImageOverlay\r\n           url=\"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\"\r\n           bounds={bounds}\r\n         />\r\n"
                },
                {
                    "date": 1768969443816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,24 +28,49 @@\n }\r\n \r\n function PlayerCamera({ gps }: { gps: GeolocationPosition | null }) {\r\n   const map = useMap();\r\n+  const [origin, setOrigin] = useState<GeolocationPosition | null>(null);\r\n \r\n   useEffect(() => {\r\n     if (!gps) return;\r\n \r\n-    const { latitude, longitude } = gps.coords;\r\n-    const pos = gpsToVirtual(latitude, longitude);\r\n+    // First GPS = origin\r\n+    if (!origin) {\r\n+      setOrigin(gps);\r\n+      return;\r\n+    }\r\n \r\n-    map.setView(pos, map.getZoom(), {\r\n+    const dx = distanceInMeters(\r\n+      origin.coords.latitude,\r\n+      origin.coords.longitude,\r\n+      origin.coords.latitude,\r\n+      gps.coords.longitude\r\n+    );\r\n+\r\n+    const dy = distanceInMeters(\r\n+      origin.coords.latitude,\r\n+      origin.coords.longitude,\r\n+      gps.coords.latitude,\r\n+      origin.coords.longitude\r\n+    );\r\n+\r\n+    // direction\r\n+    const x = gps.coords.longitude > origin.coords.longitude ? dx : -dx;\r\n+    const y = gps.coords.latitude > origin.coords.latitude ? -dy : dy;\r\n+\r\n+    const SCALE = 1; // 1 meter = 1 pixel (adjustable)\r\n+\r\n+    map.setView([500 + y * SCALE, 500 + x * SCALE], map.getZoom(), {\r\n       animate: true,\r\n-      duration: 0.5,\r\n+      duration: 0.3,\r\n     });\r\n-  }, [gps, map]);\r\n+  }, [gps]);\r\n \r\n   return null;\r\n }\r\n \r\n+\r\n export default function GameMap() {\r\n   const [gps, setGps] = useState<GeolocationPosition | null>(null);\r\n \r\n   useEffect(() => {\r\n"
                },
                {
                    "date": 1768969453040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,28 @@\n     center[0] + lat * LAT_TO_UNIT,\r\n     center[1] + lng * LNG_TO_UNIT,\r\n   ];\r\n }\r\n+function distanceInMeters(\r\n+  lat1: number,\r\n+  lon1: number,\r\n+  lat2: number,\r\n+  lon2: number\r\n+) {\r\n+  const R = 6378137;\r\n+  const dLat = ((lat2 - lat1) * Math.PI) / 180;\r\n+  const dLon = ((lon2 - lon1) * Math.PI) / 180;\r\n \r\n+  const a =\r\n+    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n+    Math.cos((lat1 * Math.PI) / 180) *\r\n+      Math.cos((lat2 * Math.PI) / 180) *\r\n+      Math.sin(dLon / 2) *\r\n+      Math.sin(dLon / 2);\r\n+\r\n+  return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n+}\r\n+\r\n function PlayerCamera({ gps }: { gps: GeolocationPosition | null }) {\r\n   const map = useMap();\r\n   const [origin, setOrigin] = useState<GeolocationPosition | null>(null);\r\n \r\n"
                },
                {
                    "date": 1768969711409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,134 +1,94 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, Marker, useMap } from \"react-leaflet\";\r\n import L from \"leaflet\";\r\n import \"leaflet/dist/leaflet.css\";\r\n-import { useEffect, useState } from \"react\";\r\n+import { useEffect, useRef, useState } from \"react\";\r\n \r\n+const center: [number, number] = [500, 500];\r\n+\r\n const playerIcon = new L.Icon({\r\n   iconUrl: \"https://cdn-icons-png.flaticon.com/512/1177/1177568.png\",\r\n   iconSize: [40, 40],\r\n   iconAnchor: [20, 40],\r\n });\r\n \r\n-const bounds: [[number, number], [number, number]] = [\r\n-  [0, 0],\r\n-  [1000, 1000],\r\n-];\r\n-\r\n-const center: [number, number] = [500, 500];\r\n-\r\n-const LAT_TO_UNIT = 100000;\r\n-const LNG_TO_UNIT = 100000;\r\n-\r\n-function gpsToVirtual(lat: number, lng: number): [number, number] {\r\n-  return [\r\n-    center[0] + lat * LAT_TO_UNIT,\r\n-    center[1] + lng * LNG_TO_UNIT,\r\n-  ];\r\n-}\r\n-function distanceInMeters(\r\n-  lat1: number,\r\n-  lon1: number,\r\n-  lat2: number,\r\n-  lon2: number\r\n-) {\r\n+function meters(lat1:number, lon1:number, lat2:number, lon2:number) {\r\n   const R = 6378137;\r\n-  const dLat = ((lat2 - lat1) * Math.PI) / 180;\r\n-  const dLon = ((lon2 - lon1) * Math.PI) / 180;\r\n-\r\n-  const a =\r\n-    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n-    Math.cos((lat1 * Math.PI) / 180) *\r\n-      Math.cos((lat2 * Math.PI) / 180) *\r\n-      Math.sin(dLon / 2) *\r\n-      Math.sin(dLon / 2);\r\n-\r\n-  return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n+  const dLat = (lat2 - lat1) * Math.PI / 180;\r\n+  const dLon = (lon2 - lon1) * Math.PI / 180;\r\n+  return Math.sqrt(dLat*dLat + dLon*dLon) * R;\r\n }\r\n \r\n-function PlayerCamera({ gps }: { gps: GeolocationPosition | null }) {\r\n+function CameraFollow({ gps }: { gps: GeolocationPosition | null }) {\r\n   const map = useMap();\r\n-  const [origin, setOrigin] = useState<GeolocationPosition | null>(null);\r\n+  const origin = useRef<GeolocationPosition | null>(null);\r\n \r\n   useEffect(() => {\r\n     if (!gps) return;\r\n \r\n-    // First GPS = origin\r\n-    if (!origin) {\r\n-      setOrigin(gps);\r\n+    if (!origin.current) {\r\n+      origin.current = gps;\r\n       return;\r\n     }\r\n \r\n-    const dx = distanceInMeters(\r\n-      origin.coords.latitude,\r\n-      origin.coords.longitude,\r\n-      origin.coords.latitude,\r\n+    const dx = meters(\r\n+      origin.current.coords.latitude,\r\n+      origin.current.coords.longitude,\r\n+      origin.current.coords.latitude,\r\n       gps.coords.longitude\r\n     );\r\n \r\n-    const dy = distanceInMeters(\r\n-      origin.coords.latitude,\r\n-      origin.coords.longitude,\r\n+    const dy = meters(\r\n+      origin.current.coords.latitude,\r\n+      origin.current.coords.longitude,\r\n       gps.coords.latitude,\r\n-      origin.coords.longitude\r\n+      origin.current.coords.longitude\r\n     );\r\n \r\n-    // direction\r\n-    const x = gps.coords.longitude > origin.coords.longitude ? dx : -dx;\r\n-    const y = gps.coords.latitude > origin.coords.latitude ? -dy : dy;\r\n+    const x = gps.coords.longitude > origin.current.coords.longitude ? dx : -dx;\r\n+    const y = gps.coords.latitude > origin.current.coords.latitude ? -dy : dy;\r\n \r\n-    const SCALE = 1; // 1 meter = 1 pixel (adjustable)\r\n+    const SCALE = 20; // ğŸ”¥ exaggerate\r\n \r\n-    map.setView([500 + y * SCALE, 500 + x * SCALE], map.getZoom(), {\r\n-      animate: true,\r\n-      duration: 0.3,\r\n-    });\r\n+    map.setView(\r\n+      [center[0] + y * SCALE, center[1] + x * SCALE],\r\n+      map.getZoom(),\r\n+      { animate: true }\r\n+    );\r\n   }, [gps]);\r\n \r\n   return null;\r\n }\r\n \r\n-\r\n export default function GameMap() {\r\n   const [gps, setGps] = useState<GeolocationPosition | null>(null);\r\n \r\n   useEffect(() => {\r\n-    const watchId = navigator.geolocation.watchPosition(\r\n-      (pos) => setGps(pos),\r\n-      (err) => console.error(err),\r\n-      {\r\n-        enableHighAccuracy: true,\r\n-        maximumAge: 1000,\r\n-        timeout: 10000,\r\n-      }\r\n+    const id = navigator.geolocation.watchPosition(\r\n+      (p) => {\r\n+        console.log(\"GPS update\", p.coords.latitude, p.coords.longitude);\r\n+        setGps(p);\r\n+      },\r\n+      console.error,\r\n+      { enableHighAccuracy: true, maximumAge: 0 }\r\n     );\r\n-\r\n-    return () => navigator.geolocation.clearWatch(watchId);\r\n+    return () => navigator.geolocation.clearWatch(id);\r\n   }, []);\r\n \r\n   return (\r\n-    <div style={{ height: \"100vh\", width: \"100vw\" }}>\r\n-      <MapContainer\r\n-  crs={L.CRS.Simple}\r\n-  bounds={[[0, 0], [1000, 1000]]}\r\n-  center={[500, 500]}\r\n-  zoom={0}\r\n-  minZoom={-2}\r\n-  maxZoom={2}\r\n-  style={{ height: \"100%\", width: \"100%\" }}\r\n->\r\n+    <MapContainer\r\n+      crs={L.CRS.Simple}\r\n+      center={center}\r\n+      zoom={0}\r\n+      style={{ height: \"100vh\" }}\r\n+    >\r\n+      <ImageOverlay\r\n+        url=\"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\"\r\n+        bounds={[[0,0],[1000,1000]]}\r\n+      />\r\n \r\n-        <ImageOverlay\r\n-          url=\"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\"\r\n-          bounds={bounds}\r\n-        />\r\n-\r\n-        {/* Player stays at center */}\r\n-        <Marker position={center} icon={playerIcon} />\r\n-\r\n-        {/* Camera follows GPS */}\r\n-        <PlayerCamera gps={gps} />\r\n-      </MapContainer>\r\n-    </div>\r\n+      <Marker position={center} icon={playerIcon} />\r\n+      <CameraFollow gps={gps} />\r\n+    </MapContainer>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1768969825148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,25 +1,24 @@\n \"use client\";\r\n-import { MapContainer, ImageOverlay, Marker, useMap } from \"react-leaflet\";\r\n+import { MapContainer, ImageOverlay, useMap } from \"react-leaflet\";\r\n import L from \"leaflet\";\r\n import \"leaflet/dist/leaflet.css\";\r\n import { useEffect, useRef, useState } from \"react\";\r\n \r\n-const center: [number, number] = [500, 500];\r\n+const MAP_BOUNDS: [[number, number], [number, number]] = [\r\n+  [0, 0],\r\n+  [1000, 1000],\r\n+];\r\n+const MAP_CENTER: [number, number] = [500, 500];\r\n \r\n-const playerIcon = new L.Icon({\r\n-  iconUrl: \"https://cdn-icons-png.flaticon.com/512/1177/1177568.png\",\r\n-  iconSize: [40, 40],\r\n-  iconAnchor: [20, 40],\r\n-});\r\n-\r\n function meters(lat1:number, lon1:number, lat2:number, lon2:number) {\r\n   const R = 6378137;\r\n   const dLat = (lat2 - lat1) * Math.PI / 180;\r\n   const dLon = (lon2 - lon1) * Math.PI / 180;\r\n   return Math.sqrt(dLat*dLat + dLon*dLon) * R;\r\n }\r\n \r\n+// Map follower: moves map based on GPS delta\r\n function CameraFollow({ gps }: { gps: GeolocationPosition | null }) {\r\n   const map = useMap();\r\n   const origin = useRef<GeolocationPosition | null>(null);\r\n \r\n@@ -30,8 +29,9 @@\n       origin.current = gps;\r\n       return;\r\n     }\r\n \r\n+    // Delta in meters\r\n     const dx = meters(\r\n       origin.current.coords.latitude,\r\n       origin.current.coords.longitude,\r\n       origin.current.coords.latitude,\r\n@@ -47,15 +47,15 @@\n \r\n     const x = gps.coords.longitude > origin.current.coords.longitude ? dx : -dx;\r\n     const y = gps.coords.latitude > origin.current.coords.latitude ? -dy : dy;\r\n \r\n-    const SCALE = 20; // ğŸ”¥ exaggerate\r\n+    const SCALE = 20; // pixels per meter\r\n \r\n-    map.setView(\r\n-      [center[0] + y * SCALE, center[1] + x * SCALE],\r\n-      map.getZoom(),\r\n-      { animate: true }\r\n-    );\r\n+    // Pan the map by delta so that player stays at screen center\r\n+    map.panTo([MAP_CENTER[0] + y * SCALE, MAP_CENTER[1] + x * SCALE], {\r\n+      animate: true,\r\n+      duration: 0.3,\r\n+    });\r\n   }, [gps]);\r\n \r\n   return null;\r\n }\r\n@@ -63,32 +63,55 @@\n export default function GameMap() {\r\n   const [gps, setGps] = useState<GeolocationPosition | null>(null);\r\n \r\n   useEffect(() => {\r\n-    const id = navigator.geolocation.watchPosition(\r\n-      (p) => {\r\n-        console.log(\"GPS update\", p.coords.latitude, p.coords.longitude);\r\n-        setGps(p);\r\n+    const watchId = navigator.geolocation.watchPosition(\r\n+      (pos) => {\r\n+        console.log(\"GPS update:\", pos.coords.latitude, pos.coords.longitude);\r\n+        setGps(pos);\r\n       },\r\n       console.error,\r\n       { enableHighAccuracy: true, maximumAge: 0 }\r\n     );\r\n-    return () => navigator.geolocation.clearWatch(id);\r\n+    return () => navigator.geolocation.clearWatch(watchId);\r\n   }, []);\r\n \r\n   return (\r\n-    <MapContainer\r\n-      crs={L.CRS.Simple}\r\n-      center={center}\r\n-      zoom={0}\r\n-      style={{ height: \"100vh\" }}\r\n-    >\r\n-      <ImageOverlay\r\n-        url=\"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\"\r\n-        bounds={[[0,0],[1000,1000]]}\r\n+    <div style={{ height: \"100vh\", width: \"100vw\", position: \"relative\" }}>\r\n+      {/* Map */}\r\n+      <MapContainer\r\n+        crs={L.CRS.Simple}\r\n+        center={MAP_CENTER}\r\n+        zoom={0}\r\n+        minZoom={-2}\r\n+        maxZoom={2}\r\n+        style={{ height: \"100%\", width: \"100%\" }}\r\n+        attributionControl={false}\r\n+        zoomControl={false}\r\n+      >\r\n+        <ImageOverlay\r\n+          url=\"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\"\r\n+          bounds={MAP_BOUNDS}\r\n+        />\r\n+        <CameraFollow gps={gps} />\r\n+      </MapContainer>\r\n+\r\n+      {/* Player Icon = viewport center */}\r\n+      <div\r\n+        style={{\r\n+          position: \"absolute\",\r\n+          top: \"50%\",\r\n+          left: \"50%\",\r\n+          transform: \"translate(-50%, -50%)\",\r\n+          width: 40,\r\n+          height: 40,\r\n+          backgroundImage:\r\n+            \"url('https://cdn-icons-png.flaticon.com/512/1177/1177568.png')\",\r\n+          backgroundSize: \"contain\",\r\n+          backgroundRepeat: \"no-repeat\",\r\n+          pointerEvents: \"none\",\r\n+          zIndex: 1000,\r\n+        }}\r\n       />\r\n-\r\n-      <Marker position={center} icon={playerIcon} />\r\n-      <CameraFollow gps={gps} />\r\n-    </MapContainer>\r\n+    </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1768969954734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,6 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, useMap } from \"react-leaflet\";\r\n-import L from \"leaflet\";\r\n import \"leaflet/dist/leaflet.css\";\r\n import { useEffect, useRef, useState } from \"react\";\r\n \r\n const MAP_BOUNDS: [[number, number], [number, number]] = [\r\n@@ -16,22 +15,23 @@\n   const dLon = (lon2 - lon1) * Math.PI / 180;\r\n   return Math.sqrt(dLat*dLat + dLon*dLon) * R;\r\n }\r\n \r\n-// Map follower: moves map based on GPS delta\r\n+// Camera follow only if delta > threshold\r\n function CameraFollow({ gps }: { gps: GeolocationPosition | null }) {\r\n   const map = useMap();\r\n   const origin = useRef<GeolocationPosition | null>(null);\r\n \r\n+  const THRESHOLD = 1; // meters\r\n+\r\n   useEffect(() => {\r\n     if (!gps) return;\r\n \r\n     if (!origin.current) {\r\n       origin.current = gps;\r\n       return;\r\n     }\r\n \r\n-    // Delta in meters\r\n     const dx = meters(\r\n       origin.current.coords.latitude,\r\n       origin.current.coords.longitude,\r\n       origin.current.coords.latitude,\r\n@@ -44,18 +44,25 @@\n       gps.coords.latitude,\r\n       origin.current.coords.longitude\r\n     );\r\n \r\n+    const distance = Math.sqrt(dx*dx + dy*dy);\r\n+\r\n+    // Only move map if device really moved\r\n+    if (distance < THRESHOLD) return;\r\n+\r\n     const x = gps.coords.longitude > origin.current.coords.longitude ? dx : -dx;\r\n     const y = gps.coords.latitude > origin.current.coords.latitude ? -dy : dy;\r\n \r\n     const SCALE = 20; // pixels per meter\r\n \r\n-    // Pan the map by delta so that player stays at screen center\r\n     map.panTo([MAP_CENTER[0] + y * SCALE, MAP_CENTER[1] + x * SCALE], {\r\n       animate: true,\r\n       duration: 0.3,\r\n     });\r\n+\r\n+    // Update origin to new GPS for next delta\r\n+    origin.current = gps;\r\n   }, [gps]);\r\n \r\n   return null;\r\n }\r\n@@ -76,9 +83,8 @@\n   }, []);\r\n \r\n   return (\r\n     <div style={{ height: \"100vh\", width: \"100vw\", position: \"relative\" }}>\r\n-      {/* Map */}\r\n       <MapContainer\r\n         crs={L.CRS.Simple}\r\n         center={MAP_CENTER}\r\n         zoom={0}\r\n@@ -94,9 +100,9 @@\n         />\r\n         <CameraFollow gps={gps} />\r\n       </MapContainer>\r\n \r\n-      {/* Player Icon = viewport center */}\r\n+      {/* Player Icon at screen center */}\r\n       <div\r\n         style={{\r\n           position: \"absolute\",\r\n           top: \"50%\",\r\n"
                },
                {
                    "date": 1768969977436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, useMap } from \"react-leaflet\";\r\n import \"leaflet/dist/leaflet.css\";\r\n import { useEffect, useRef, useState } from \"react\";\r\n+import { L} from 'react-leaflet'\r\n \r\n const MAP_BOUNDS: [[number, number], [number, number]] = [\r\n   [0, 0],\r\n   [1000, 1000],\r\n"
                },
                {
                    "date": 1768969983505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, useMap } from \"react-leaflet\";\r\n import \"leaflet/dist/leaflet.css\";\r\n import { useEffect, useRef, useState } from \"react\";\r\n-import { L} from 'react-leaflet'\r\n+import  L from 'react-leaflet'\r\n \r\n const MAP_BOUNDS: [[number, number], [number, number]] = [\r\n   [0, 0],\r\n   [1000, 1000],\r\n"
                },
                {
                    "date": 1768970004355,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, useMap } from \"react-leaflet\";\r\n import \"leaflet/dist/leaflet.css\";\r\n import { useEffect, useRef, useState } from \"react\";\r\n-\r\n+import L from 'leaflet'; \r\n const MAP_BOUNDS: [[number, number], [number, number]] = [\r\n   [0, 0],\r\n   [1000, 1000],\r\n ];\r\n"
                },
                {
                    "date": 1768970152727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,90 +1,110 @@\n \"use client\";\r\n import { MapContainer, ImageOverlay, useMap } from \"react-leaflet\";\r\n import \"leaflet/dist/leaflet.css\";\r\n import { useEffect, useRef, useState } from \"react\";\r\n-import L from 'leaflet'; \r\n+\r\n+// --------- CONFIGURATION ---------\r\n+const MAP_PIXEL_WIDTH = 1000;  // image width in px\r\n+const MAP_PIXEL_HEIGHT = 1000; // image height in px\r\n+const MAP_PHYSICAL_WIDTH_M = 10; // real-world width in meters\r\n+const MAP_PHYSICAL_HEIGHT_M = 10; // real-world height in meters\r\n+\r\n const MAP_BOUNDS: [[number, number], [number, number]] = [\r\n   [0, 0],\r\n-  [1000, 1000],\r\n+  [MAP_PIXEL_WIDTH, MAP_PIXEL_HEIGHT],\r\n ];\r\n-const MAP_CENTER: [number, number] = [500, 500];\r\n+const MAP_CENTER: [number, number] = [MAP_PIXEL_WIDTH / 2, MAP_PIXEL_HEIGHT / 2];\r\n \r\n+const GPS_THRESHOLD_M = 0.01; // meters, minimum movement to update map (â‰ˆ 1 cm)\r\n+const SCALE_X = MAP_PIXEL_WIDTH / MAP_PHYSICAL_WIDTH_M;   // px/m\r\n+const SCALE_Y = MAP_PIXEL_HEIGHT / MAP_PHYSICAL_HEIGHT_M; // px/m\r\n+\r\n+// --------- HELPER FUNCTION: distance between lat/lng in meters ---------\r\n function meters(lat1:number, lon1:number, lat2:number, lon2:number) {\r\n-  const R = 6378137;\r\n+  const R = 6378137; // Earth radius in meters\r\n   const dLat = (lat2 - lat1) * Math.PI / 180;\r\n   const dLon = (lon2 - lon1) * Math.PI / 180;\r\n-  return Math.sqrt(dLat*dLat + dLon*dLon) * R;\r\n+  const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n+            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n+            Math.sin(dLon/2) * Math.sin(dLon/2);\r\n+  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n+  return R * c;\r\n }\r\n \r\n-// Camera follow only if delta > threshold\r\n+// --------- Camera follower ---------\r\n function CameraFollow({ gps }: { gps: GeolocationPosition | null }) {\r\n   const map = useMap();\r\n   const origin = useRef<GeolocationPosition | null>(null);\r\n \r\n-  const THRESHOLD = 1; // meters\r\n-\r\n   useEffect(() => {\r\n     if (!gps) return;\r\n \r\n     if (!origin.current) {\r\n       origin.current = gps;\r\n       return;\r\n     }\r\n \r\n-    const dx = meters(\r\n+    // compute delta in meters\r\n+    const dx_m = meters(\r\n       origin.current.coords.latitude,\r\n       origin.current.coords.longitude,\r\n       origin.current.coords.latitude,\r\n       gps.coords.longitude\r\n     );\r\n-\r\n-    const dy = meters(\r\n+    const dy_m = meters(\r\n       origin.current.coords.latitude,\r\n       origin.current.coords.longitude,\r\n       gps.coords.latitude,\r\n       origin.current.coords.longitude\r\n     );\r\n \r\n-    const distance = Math.sqrt(dx*dx + dy*dy);\r\n+    // filter tiny movement\r\n+    const distance_m = Math.sqrt(dx_m*dx_m + dy_m*dy_m);\r\n+    if (distance_m < GPS_THRESHOLD_M) return;\r\n \r\n-    // Only move map if device really moved\r\n-    if (distance < THRESHOLD) return;\r\n+    // convert meters -> pixels\r\n+    const dx_px = dx_m * SCALE_X * (gps.coords.longitude > origin.current.coords.longitude ? 1 : -1);\r\n+    const dy_px = dy_m * SCALE_Y * (gps.coords.latitude > origin.current.coords.latitude ? -1 : 1);\r\n \r\n-    const x = gps.coords.longitude > origin.current.coords.longitude ? dx : -dx;\r\n-    const y = gps.coords.latitude > origin.current.coords.latitude ? -dy : dy;\r\n-\r\n-    const SCALE = 20; // pixels per meter\r\n-\r\n-    map.panTo([MAP_CENTER[0] + y * SCALE, MAP_CENTER[1] + x * SCALE], {\r\n+    // pan map by delta so player stays at screen center\r\n+    map.panTo([MAP_CENTER[0] + dy_px, MAP_CENTER[1] + dx_px], {\r\n       animate: true,\r\n-      duration: 0.3,\r\n+      duration: 0.2,\r\n     });\r\n \r\n-    // Update origin to new GPS for next delta\r\n+    // update origin for next delta calculation\r\n     origin.current = gps;\r\n   }, [gps]);\r\n \r\n   return null;\r\n }\r\n \r\n+// --------- MAIN COMPONENT ---------\r\n export default function GameMap() {\r\n   const [gps, setGps] = useState<GeolocationPosition | null>(null);\r\n \r\n   useEffect(() => {\r\n+    if (!navigator.geolocation) {\r\n+      console.error(\"Geolocation not supported\");\r\n+      return;\r\n+    }\r\n+\r\n     const watchId = navigator.geolocation.watchPosition(\r\n       (pos) => {\r\n         console.log(\"GPS update:\", pos.coords.latitude, pos.coords.longitude);\r\n         setGps(pos);\r\n       },\r\n-      console.error,\r\n+      (err) => console.error(err),\r\n       { enableHighAccuracy: true, maximumAge: 0 }\r\n     );\r\n+\r\n     return () => navigator.geolocation.clearWatch(watchId);\r\n   }, []);\r\n \r\n   return (\r\n     <div style={{ height: \"100vh\", width: \"100vw\", position: \"relative\" }}>\r\n+      {/* Leaflet Map */}\r\n       <MapContainer\r\n         crs={L.CRS.Simple}\r\n         center={MAP_CENTER}\r\n         zoom={0}\r\n@@ -100,9 +120,9 @@\n         />\r\n         <CameraFollow gps={gps} />\r\n       </MapContainer>\r\n \r\n-      {/* Player Icon at screen center */}\r\n+      {/* Player Icon = always at device screen center */}\r\n       <div\r\n         style={{\r\n           position: \"absolute\",\r\n           top: \"50%\",\r\n"
                }
            ],
            "date": 1768968739593,
            "name": "Commit-0",
            "content": "\"use client\";\r\nimport { MapContainer, ImageOverlay, Marker, useMap, Popup } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { useEffect, useState } from 'react';\r\n\r\n// Marker Icon Fix for Leaflet in Next.js\r\nconst playerIcon = new L.Icon({\r\n    iconUrl: 'https://cdn-icons-png.flaticon.com/512/1177/1177568.png',\r\n    iconSize: [40, 40],\r\n    iconAnchor: [20, 40],\r\n});\r\n\r\nconst pokemonIcon = new L.Icon({\r\n    iconUrl: 'https://cdn-icons-png.flaticon.com/512/188/188987.png',\r\n    iconSize: [30, 30],\r\n});\r\n\r\n// Map á€€á€­á€¯ Player á€”á€±á€¬á€€á€ºá€€ á€œá€­á€¯á€€á€ºá€¡á€±á€¬á€„á€º á€œá€¯á€•á€ºá€•á€±á€¸á€á€²á€· Component\r\nfunction CameraFollow({ position }) {\r\n    const map = useMap();\r\n    useEffect(() => {\r\n        map.setView(position, map.getZoom(), { animate: true });\r\n    }, [position, map]);\r\n    return null;\r\n}\r\n\r\nexport default function GameMap() {\r\n    // á€•á€± á‚á€ á€•á€á€ºá€œá€Šá€ºá€€á€­á€¯ Latitude/Longitude á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€á€¼á€„á€ºá€¸ (á€¥á€•á€™á€¬ Center Point á€á€…á€ºá€á€¯á€šá€°á€‘á€¬á€¸á€á€Šá€º)\r\n    const center = [16.8403, 96.1735];\r\n    const roomBounds = [\r\n        [16.84025, 96.17345], // Bottom Left\r\n        [16.84035, 96.17355]  // Top Right (á€•á€± á‚á€ á€á€”á€·á€º area)\r\n    ];\r\n\r\n    const [playerPosition, setPlayerPosition] = useState(center);\r\n    const [status, setStatus] = useState(\"Walking...\");\r\n\r\n    // GPS Tracking\r\n    useEffect(() => {\r\n        if (!navigator.geolocation) return;\r\n\r\n        const watchId = navigator.geolocation.watchPosition(\r\n            (pos) => {\r\n                const { latitude, longitude } = pos.coords;\r\n                \r\n                // Boundary Check: á€¡á€á€”á€ºá€¸á€‘á€²á€™á€¾á€¬ á€›á€¾á€­á€™á€›á€¾á€­ á€…á€…á€ºá€†á€±á€¸á€á€¼á€„á€ºá€¸\r\n                const isInside = \r\n                    latitude >= roomBounds[0][0] && latitude <= roomBounds[1][0] &&\r\n                    longitude >= roomBounds[0][1] && longitude <= roomBounds[1][1];\r\n\r\n                if (isInside) {\r\n                    setPlayerPosition([latitude, longitude]);\r\n                    setStatus(\"Inside the Room\");\r\n                } else {\r\n                    setStatus(\"Outside! Please go back.\");\r\n                }\r\n            },\r\n            (err) => console.error(err),\r\n            { enableHighAccuracy: true, maximumAge: 0 }\r\n        );\r\n\r\n        return () => navigator.geolocation.clearWatch(watchId);\r\n    }, []);\r\n\r\n    // Virtual Map Image (á€¥á€•á€™á€¬ - á€¡á€á€”á€ºá€¸ floor plan á€•á€¯á€¶)\r\n    const virtualMapUrl = \"https://img.freepik.com/free-vector/modern-house-floor-plan_23-2148301548.jpg\";\r\n\r\n    return (\r\n        <div className=\"relative w-full h-screen\">\r\n            <div className=\"absolute top-4 left-4 z-[1000] bg-white p-2 rounded shadow-lg\">\r\n                <p className=\"font-bold\">Status: {status}</p>\r\n                <p className=\"text-sm\">Lat: {playerPosition[0].toFixed(6)}</p>\r\n                <p className=\"text-sm\">Lng: {playerPosition[1].toFixed(6)}</p>\r\n            </div>\r\n\r\n            <MapContainer\r\n                center={center}\r\n                zoom={22}\r\n                style={{ height: \"100%\", width: \"100%\" }}\r\n                dragging={false} // User á€œá€€á€ºá€”á€²á€· á€›á€½á€¾á€±á€·á€œá€­á€¯á€·á€™á€›á€¡á€±á€¬á€„á€º á€•á€­á€á€ºá€‘á€¬á€¸á€á€Šá€º\r\n                zoomControl={false}\r\n            >\r\n                {/* Virtual Background */}\r\n                <ImageOverlay\r\n                    url={virtualMapUrl}\r\n                    bounds={roomBounds}\r\n                />\r\n\r\n                <CameraFollow position={playerPosition} />\r\n\r\n                {/* Player Marker */}\r\n                <Marker position={playerPosition} icon={playerIcon} />\r\n\r\n                {/* Example Pokemon Item */}\r\n                <Marker position={[16.84032, 96.17352]} icon={pokemonIcon}>\r\n                    <Popup>Catch Me!</Popup>\r\n                </Marker>\r\n            </MapContainer>\r\n        </div>\r\n    );\r\n}"
        }
    ]
}